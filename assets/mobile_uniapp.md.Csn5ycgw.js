import{_ as i,E as a,c as t,J as n,a4 as l,o as h}from"./chunks/framework.K9vKjHgL.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"mobile/uniapp.md","filePath":"mobile/uniapp.md"}'),k={name:"mobile/uniapp.md"},p=l(`<h2 id="目录结构" tabindex="-1">目录结构 <a class="header-anchor" href="#目录结构" aria-label="Permalink to &quot;目录结构&quot;">​</a></h2><ul><li><p>components：组件(插件)，easycom 自动根据这个文件夹自动引入组件，在 vue 文件的<code>template</code>直接使用，无需引入，注册。(可自行修改文件，做出自己想要的组件，都是 vue 文件)</p></li><li><p>common：公共文件，css，less，scss，font 字体图标等文件可放在此文件夹再对应的引入使用。</p></li><li><p>pages： 页面文件</p></li><li><p>static：静态资源并且只能存放在此文件夹，视频，图片等</p></li><li><p>wxcomponents：微信小程序组件(插件)</p></li><li><p>main.js ：Vue 初始化入口文件</p></li><li><p>App.vue：应用配置，用来配置 App 全局样式以及监听 <a href="https://uniapp.dcloud.io/frame?id=%E5%BA%94%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noreferrer">应用生命周期</a></p></li><li><p>manifest.json：配置应用名称、appid、logo、版本等打包信息，<a href="https://uniapp.dcloud.io/collocation/manifest" target="_blank" rel="noreferrer">详见</a></p></li><li><p>pages.json ：配置页面路由、导航条、选项卡等页面类信息，<a href="https://uniapp.dcloud.io/collocation/pages" target="_blank" rel="noreferrer">详见</a>使用微信小程序的组件时例如：<code>vant-weapp</code>，可以在<code>globalStyle</code>配置<code>usingComponents</code>全局引用</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">usingComponents</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">van-button</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">/wxcomponents/vant-weapp/button/index</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div></li></ul><h2 id="tips" tabindex="-1">tips <a class="header-anchor" href="#tips" aria-label="Permalink to &quot;tips&quot;">​</a></h2><ul><li><p>css 文件不能引用网络地址，字体文件可以</p></li><li><p>支付宝小程序组件内 image 标签不可使用相对路径</p></li><li><p><code>@/</code>指向根目录，在 cli 项目中@指向 src 目录</p></li><li><p>js 文件不支持使用<code>/</code>开头的方式引入</p></li><li><p>小程序不支持在 css 中使用本地文件，包括本地的背景图和字体文件</p></li><li><p>非 H5 端不支持<code>classObject</code> 和 <code>styleObject</code> 语法。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F6F6F4;">classObject</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F6F6F4;">    active</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">    &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">text-danger</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div></li><li><p>非 H5 端<strong>组件</strong>不可以用<code>class</code>和<code>style</code>绑定</p></li><li><p>使用字体图标，引入本地文件时，<code>~@/</code>表示根路径</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">@font-face</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  font-family</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">iconfont</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  src</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">~@/static/iconfont.eot?t=1587009270769</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* IE9 */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  src</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">~@/static/iconfont.eot?t=1587009270769#iefix</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">embedded-opentype</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* IE6-IE8 */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div></li></ul><h2 id="生命周期" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期" aria-label="Permalink to &quot;生命周期&quot;">​</a></h2><h3 id="应用生命周期" tabindex="-1">应用生命周期 <a class="header-anchor" href="#应用生命周期" aria-label="Permalink to &quot;应用生命周期&quot;">​</a></h3><blockquote><p>先触发 onLaunch 再触发 onShow</p><p><strong>应用生命周期仅可在<code>App.vue</code>中监听，在其它页面监听无效。</strong></p></blockquote><table><thead><tr><th style="text-align:left;">函数名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">onLaunch</td><td style="text-align:left;">当<code>uni-app</code> 初始化完成时触发（全局只触发一次）</td></tr><tr><td style="text-align:left;">onShow</td><td style="text-align:left;">当 <code>uni-app</code> 启动，或从后台进入前台显示</td></tr><tr><td style="text-align:left;">onHide</td><td style="text-align:left;">当 <code>uni-app</code> 从前台进入后台</td></tr><tr><td style="text-align:left;">onError</td><td style="text-align:left;">当 <code>uni-app</code> 报错时触发</td></tr></tbody></table><h3 id="页面生命周期" tabindex="-1">页面生命周期 <a class="header-anchor" href="#页面生命周期" aria-label="Permalink to &quot;页面生命周期&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">函数名</th><th style="text-align:left;">说明</th><th style="text-align:left;">平台差异说明</th></tr></thead><tbody><tr><td style="text-align:left;">onLoad</td><td style="text-align:left;">监听页面加载，其参数为上个页面传递的数据，参数类型为 Object（用于页面传参），参考<a href="https://uniapp.dcloud.io/api/router?id=navigateto" target="_blank" rel="noreferrer">示例</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onShow</td><td style="text-align:left;">监听页面显示。页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onReady</td><td style="text-align:left;">监听页面初次渲染完成。注意如果渲染速度快，会在页面进入动画完成前触发</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onHide</td><td style="text-align:left;">监听页面隐藏</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onUnload</td><td style="text-align:left;">监听页面卸载</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onResize</td><td style="text-align:left;">监听窗口尺寸变化</td><td style="text-align:left;">App、微信小程序</td></tr><tr><td style="text-align:left;">onPullDownRefresh</td><td style="text-align:left;">监听用户下拉动作，一般用于下拉刷新，参考<a href="https://uniapp.dcloud.io/api/ui/pulldown" target="_blank" rel="noreferrer">示例</a></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onReachBottom</td><td style="text-align:left;">页面上拉触底事件的处理函数</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onTabItemTap</td><td style="text-align:left;">点击 tab 时触发，参数为 Object，具体见下方注意事项</td><td style="text-align:left;">微信小程序、百度小程序、H5、App（自定义组件模式）</td></tr><tr><td style="text-align:left;">onShareAppMessage</td><td style="text-align:left;">用户点击右上角分享</td><td style="text-align:left;">微信小程序、百度小程序、字节跳动小程序、支付宝小程序</td></tr><tr><td style="text-align:left;">onPageScroll</td><td style="text-align:left;">监听页面滚动，参数为 Object</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">onNavigationBarButtonTap</td><td style="text-align:left;">监听原生标题栏按钮点击事件，参数为 Object</td><td style="text-align:left;">5+ App、H5</td></tr><tr><td style="text-align:left;">onBackPress</td><td style="text-align:left;">监听页面返回，返回 event = {from:backbutton、 navigateBack} ，backbutton 表示来源是左上角返回按钮或 android 返回键；navigateBack 表示来源是 uni.navigateBack ；详细说明及使用：<a href="http://ask.dcloud.net.cn/article/35120" target="_blank" rel="noreferrer">onBackPress 详解</a></td><td style="text-align:left;">App、H5</td></tr><tr><td style="text-align:left;">onNavigationBarSearchInputChanged</td><td style="text-align:left;">监听原生标题栏搜索输入框输入内容变化事件</td><td style="text-align:left;">App、H5</td></tr><tr><td style="text-align:left;">onNavigationBarSearchInputConfirmed</td><td style="text-align:left;">监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发。</td><td style="text-align:left;">App、H5</td></tr><tr><td style="text-align:left;">onNavigationBarSearchInputClicked</td><td style="text-align:left;">监听原生标题栏搜索输入框点击事件</td><td style="text-align:left;">App、H5</td></tr></tbody></table><h2 id="使用-vuex" tabindex="-1">使用 vuex <a class="header-anchor" href="#使用-vuex" aria-label="Permalink to &quot;使用 vuex&quot;">​</a></h2><blockquote><p><strong>这里可以使用<code>uni</code>对象</strong>，像提示登录，可以写在<code>store</code>，然后页面随意调用</p></blockquote><p>根目录下新建<code>store</code>文件夹，新建一个 js 文件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> Vue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">vue</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> Vuex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">vuex</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(Vuex);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;--shiki-light-font-weight:inherit;--shiki-dark-font-weight:bold;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> Vuex.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  state</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">gauhar</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  mutations</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    setName</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      state.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  actions</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    callName</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">commit</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> }, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">      commit</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">setName</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">    // 提示登录的弹窗</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    login</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">commit</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> }, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">msg</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(msg);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(uni.showModal);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">showModal</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        title</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">提示</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        content</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> msg,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">        success</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">          if</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (res.confirm) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">            uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">switchTab</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">              url</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">/pages/my/my</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">            });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">          } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (res.cancel) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">            uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">navigateBack</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">              delta</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">            });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">});</span></span></code></pre></div><p>在<code>main.js</code>中引入 store，并挂载到实例上，方便使用</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> Vue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">vue</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> App </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">./App</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> store </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">./store/index</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">Vue.config.productionTip </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">App.mpType </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#F6F6F4;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;--shiki-light-font-weight:inherit;--shiki-dark-font-weight:bold;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;"> Vue</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  store,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">App,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">$mount</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span></code></pre></div><p>通过<code>this.$store</code>调用</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      href</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">https://uniapp.dcloud.io/component/README?id=uniui</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  computed</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    msg</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.$store.state.name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  methods</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    open</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.$refs.popup.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    handleTimeUp</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.$store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">callName</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">时间到</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.$refs.popup.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  onShow</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span></code></pre></div><h2 id="globaldata" tabindex="-1">globalData <a class="header-anchor" href="#globaldata" aria-label="Permalink to &quot;globalData&quot;">​</a></h2><blockquote><p>全局变量，如果不用 vuex 的话，这个还是挺不错的</p></blockquote><p>在 App.vue 中定义</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  globalData</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    text</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">text</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  onLaunch</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">App Launch</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  onShow</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">App Show</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  onHide</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">App Hide</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/*每个页面公共css */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span></code></pre></div><h3 id="取值和赋值" tabindex="-1">取值和赋值 <a class="header-anchor" href="#取值和赋值" aria-label="Permalink to &quot;取值和赋值&quot;">​</a></h3><p>赋值：<code>getApp().globalData.text = &#39;test&#39;</code></p><p>取值：<code>console.log(getApp().globalData.text) // &#39;test&#39;</code></p><h2 id="分包" tabindex="-1">分包 <a class="header-anchor" href="#分包" aria-label="Permalink to &quot;分包&quot;">​</a></h2><p>在 page.json 添加规则</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">subPackages</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: [{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">root</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">pagesA</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 分包根目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">pages</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 配置页面，path,style</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">      &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">path</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">list/list</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">preloadRule</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: {   </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 分包下载规则</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">pagesA/list/list</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 包路径</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">network</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">all</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// wifi 还是全部</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">packages</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">__APP__</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 表示主包</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">pages/index/index</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">network</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">all</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">packages</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">pagesA</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div><h2 id="自定义事件" tabindex="-1">自定义事件 <a class="header-anchor" href="#自定义事件" aria-label="Permalink to &quot;自定义事件&quot;">​</a></h2><h3 id="uni-emit-eventname-object" tabindex="-1">uni.$emit(eventName, object) <a class="header-anchor" href="#uni-emit-eventname-object" aria-label="Permalink to &quot;uni.$emit(eventName, object)&quot;">​</a></h3><blockquote><p>触发</p><p>注意第二个参数是对象</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">$emit</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">update</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, { msg</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">页面更新</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> });</span></span></code></pre></div><h3 id="uni-on-eventname-callback" tabindex="-1">uni.$on(eventName, callback) <a class="header-anchor" href="#uni-on-eventname-callback" aria-label="Permalink to &quot;uni.$on(eventName, callback)&quot;">​</a></h3><blockquote><p>监听</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">$on</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">update</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">监听到事件来自 update ，携带参数 msg 为：</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> data.msg);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">});</span></span></code></pre></div><h2 id="api" tabindex="-1">api <a class="header-anchor" href="#api" aria-label="Permalink to &quot;api&quot;">​</a></h2><h3 id="获取用户定位" tabindex="-1">获取用户定位 <a class="header-anchor" href="#获取用户定位" aria-label="Permalink to &quot;获取用户定位&quot;">​</a></h3><ol><li><p>在<code>manifest.json</code>中设置，desc 是获取权限时的提示语</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">permission</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> : {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">  &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">scope.userLocation</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">    &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">desc</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">你的位置信息将用于小程序位置接口的效果展示</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div></li><li><p><code>uni.authorize</code>获取权限，success 接收成功回调</p></li><li><p><code>uni.getLocation</code>获取用户定位<code>type: &quot;gcj02&quot;</code>获取的经纬度可以用在<code>map</code>组件中</p></li><li><p><code>uni.openLocation</code>使用应用内置地图查看位置。传入获取到的经纬度</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> that </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  scope</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">scope.userLocation</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 对应permission的键名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">getLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      type</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">gcj02</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">      // altitude: true,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">      success</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        that.longitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> res.longitude;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        that.latitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> res.latitude;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">当前位置的经度：</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> res.longitude);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">当前位置的纬度：</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> res.latitude);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">openLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">          latitude</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> that.latitude,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">          longitude</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> that.longitude,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">});</span></span></code></pre></div></li></ol><h3 id="录音" tabindex="-1">录音 <a class="header-anchor" href="#录音" aria-label="Permalink to &quot;录音&quot;">​</a></h3><h4 id="流程" tabindex="-1">流程 <a class="header-anchor" href="#流程" aria-label="Permalink to &quot;流程&quot;">​</a></h4><ol><li><p>创建录音对象</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#F6F6F4;"> recorderManager</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">getRecorderManager</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span></code></pre></div></li><li><p>页面加载完成，绑定<strong>监听</strong>录音结束事件，保存返回的临时文件路径</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">onLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> that </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  recorderManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">onStop</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFB86C;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(res);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    that.voicePath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> res.tempFilePath;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 保存返回的临时文件路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">},</span></span></code></pre></div></li><li><p>开始录音事件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">startRecord</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">开始录音</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  recorderManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    format</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">aac</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">  // 指定为aac格式，更加高效</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div></li><li><p><strong>触发</strong>结束录音事件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">recorderManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span></code></pre></div></li></ol><h3 id="播放音频" tabindex="-1">播放音频 <a class="header-anchor" href="#播放音频" aria-label="Permalink to &quot;播放音频&quot;">​</a></h3><blockquote><p>音频的路径可以是微信临时文件路径，可以使网络地址</p></blockquote><ol><li><p>创建播放<strong>音频</strong>对象</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#F6F6F4;"> innerAudioContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">createInnerAudioContext</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span></code></pre></div></li><li><p>路径的赋值，一些设置</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">innerAudioContext.src </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">  &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">http://gauhar.top/music/static/media/%E6%9E%97%E4%BF%8A%E6%9D%B0-%E9%9B%AA%E8%90%BD%E4%B8%8B%E7%9A%84%E5%A3%B0%E9%9F%B3.ff6502e.mp3</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 设置路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">innerAudioContext.volume </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 设置音量</span></span></code></pre></div></li><li><p>调用播放方法</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">innerAudioContext.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">play</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span></code></pre></div></li></ol><h2 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h2><h3 id="swiper" tabindex="-1">swiper <a class="header-anchor" href="#swiper" aria-label="Permalink to &quot;swiper&quot;">​</a></h3><blockquote><p>轮播图组件</p></blockquote><p>修改指示点</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.swiper</span><span style="--shiki-light:#B31D28;--shiki-dark:#F6F6F4;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;--shiki-light-text-decoration:inherit;--shiki-dark-text-decoration:underline;"> /deep/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> .wx-swiper-dot</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.swiper</span><span style="--shiki-light:#B31D28;--shiki-dark:#F6F6F4;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;--shiki-light-text-decoration:inherit;--shiki-dark-text-decoration:underline;"> /deep/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> .wx-swiper-dot-active</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* 修改当前的指示点 */</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* #ifdef MP-WEIXIN */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.swiper</span><span style="--shiki-light:#B31D28;--shiki-dark:#F6F6F4;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;--shiki-light-text-decoration:inherit;--shiki-dark-text-decoration:underline;"> /deep/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> .wx-swiper-dot-active</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* #endif */</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* #ifndef APP-VUE */</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#F6F6F4;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;--shiki-light-text-decoration:inherit;--shiki-dark-text-decoration:underline;">/deep/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">uni-swiper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> .uni-swiper-dot-active</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">/* #endif */</span></span></code></pre></div><h3 id="rich-text" tabindex="-1">rich-text <a class="header-anchor" href="#rich-text" aria-label="Permalink to &quot;rich-text&quot;">​</a></h3><blockquote><p>富文本渲染组件</p><p>:node=&quot;node 数组或者字符串&quot;。 app 端不支持字符串，并且字符串被使用的时候会被转换为数组，性能低</p></blockquote><p>使用<a href="https://github.com/dcloudio/hello-uniapp/blob/master/common/html-parser.js" target="_blank" rel="noreferrer">htmlParser.js</a>将字符串转换为数组再使用。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">rich-text</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">nodeArr</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">rich-text</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> parseHtml </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">../../common/htmlParser</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      htmlString</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/uni@2x.png&quot;/&gt;&lt;/div&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">      parseHtml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  computed</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">    nodeArr</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">parseHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.htmlString)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">script</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">// 这是转换之后的数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">[{</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">div</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">attrs</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">style</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">align:center;</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">},</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">children</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:[{</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">img</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">attrs</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:{</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">src</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">https:</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">//img-cdn-qiniu.dcloud.net.cn/uniapp/images/uni@2x.png&quot;}}]}]&quot;</span></span></code></pre></div><h2 id="坑" tabindex="-1">坑 <a class="header-anchor" href="#坑" aria-label="Permalink to &quot;坑&quot;">​</a></h2><h3 id="出现报错cannot-read-property-call-of-undefined" tabindex="-1">出现报错<code>Cannot read property &#39;call&#39; of undefined</code> <a class="header-anchor" href="#出现报错cannot-read-property-call-of-undefined" aria-label="Permalink to &quot;出现报错\`Cannot read property &#39;call&#39; of undefined\`&quot;">​</a></h3><p>通常出现在移动文件夹，修改 pages.json 的某些配置出现，一度怀疑自己代码写错，对，就要这样坑你！</p><blockquote><p>解决方法：停止运行项目，把打开了这个项目文件夹的编辑器，微信开发者工具关闭。打开项目文件夹，删除 unpackage dist 目录，再重新启动服务。重新回到了美好的世界</p></blockquote><h3 id="使用-uni-ui-的同时使用自定义组件的时候" tabindex="-1">使用 uni-ui 的同时使用自定义组件的时候 <a class="header-anchor" href="#使用-uni-ui-的同时使用自定义组件的时候" aria-label="Permalink to &quot;使用 uni-ui 的同时使用自定义组件的时候&quot;">​</a></h3><p>配置 easycom 的时候注意，从官网复制的例子，中间少了一层文件夹的名字</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">easycom</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">		&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">autoscan</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">		&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">custom</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">			&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">uni-(.*)</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">@/components/uni-$1/uni-$1.vue</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">			&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">gh-(.*)</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E2F2;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">@/components/gh-$1/gh-$1.vue</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">	}</span></span></code></pre></div><h3 id="open-data" tabindex="-1">open-data <a class="header-anchor" href="#open-data" aria-label="Permalink to &quot;open-data&quot;">​</a></h3><blockquote><p>展示用户头像，很多情况下要求圆形</p></blockquote><p>需要设置样式<code>display: block;</code> + <code>overflow: hidden;</code></p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">.avatar</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  display</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> block</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 50</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> hidden</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div><h3 id="css" tabindex="-1">css <a class="header-anchor" href="#css" aria-label="Permalink to &quot;css&quot;">​</a></h3><h4 id="border-radius" tabindex="-1">border-radius <a class="header-anchor" href="#border-radius" aria-label="Permalink to &quot;border-radius&quot;">​</a></h4><blockquote><p>在小程序如果要设置其中的某个圆角，而不是四个角。比如只要 top 部分的左右两个圆角，底下的还是直角</p></blockquote><p><strong>不能像 h5 那样直接写</strong></p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div><p><strong>必须单独设置</strong></p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#F286C4;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-top-left-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">  border-top-right-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#F286C4;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">rpx;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">}</span></span></code></pre></div><h3 id="ref" tabindex="-1">ref <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;ref&quot;">​</a></h3><p>内置的组件中不可以使用<code>this.$refs</code>获取，只能用于自定义组件</p>`,73);function e(F,d,r,g,o,E){const s=a("Banner");return h(),t("div",null,[n(s),p])}const u=i(k,[["render",e]]);export{c as __pageData,u as default};
