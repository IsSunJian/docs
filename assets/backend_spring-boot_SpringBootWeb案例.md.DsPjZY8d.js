import{_ as n,c as p,o as t,a4 as e}from"./chunks/framework.-JfgED0h.js";const l="/docs/assets/image-20221216160009145.C0pcEzw1.png",i="/docs/assets/image-20221216162622582.v2OtwOaM.png",o="/docs/assets/image-20221216170946166.BVikzRdb.png",c="/docs/assets/image-20221216200653717.ByWT4ctU.png",r="/docs/assets/image-20221216203904713.XFlXpCC4.png",d="/docs/assets/image-20221216210054136.CGmynJCX.png",u="/docs/assets/image-20221216210643628.CKvlGA_c.png",g="/docs/assets/image-20221216210938612.L2KLnOn7.png",m="/docs/assets/image-20221216211629307.BqgCOOfK.png",h="/docs/assets/image-20221216212152607.tOzIEtY0.png",b="/docs/assets/image-20221216215320623.BK8VSZ29.png",q="/docs/assets/image-20221216215041710.AGvrVXhW.png",v="/docs/assets/image-20221216215930807.D8KNyTCN.png",S="/docs/assets/image-20221216222533720.o3XjDE4h.png",y="/docs/assets/image-20221216222412510.Cl_fcgRD.png",C="/docs/assets/image-20221216222802617.DEB43bao.png",k="/docs/assets/image-20221216223328710.OJ6_YV1K.png",_="/docs/assets/image-20221216223300846.C3XiZzwi.png",f="/docs/assets/image-20221227211742547.28Is191-.png",I="/docs/assets/image-20221227214219279.BuRc4mYl.png",O="/docs/assets/image-20221227214753358.C4GaV30c.png",w="/docs/assets/image-20221227223851924.Da0U2VsO.png",B="/docs/assets/image-20220904200320964.DEDY6TL4.png",x="/docs/assets/image-20221229093412464.Cp9_hlvG.png",P="/docs/assets/image-20220904200642064.CeAWdJtX.png",D="/docs/assets/image-20221229095709505.CTXtxk3A.png",j="/docs/assets/image-20221229093911113.XP8Xbdy0.png",E="/docs/assets/image-20221229112451120.DpwVqkkV.png",T="/docs/assets/image-20220904201839857.CqWITkPh.png",A="/docs/assets/image-20220904201932884.CFu9UJiI.png",M="/docs/assets/image-20220904202537579.BcWRNiwf.png",R="/docs/assets/image-20220904202618423.D3SWU5Yh.png",F="/docs/assets/image-20220904201810832.C9hmZd4I.png",U="/docs/assets/image-20220904202235180.vHadRBOn.png",K="/docs/assets/image-20220904202824901.DGIE06Jp.png",N="/docs/assets/image-20221128020105943.B0kZx5hr.png",z="/docs/assets/image-20221229161326919.BmUZphuu.png",V="/docs/assets/image-20221229170235632.CbhGohGC.png",s="/docs/assets/image-20230102175353270.D6zvTPiL.png",X="/docs/assets/image-20220904220001994.whnzdrRS.png",a="/docs/assets/image-20220904220006578.BQCEiVo3.png",J="/docs/assets/image-20221230161841795.DPHiDtLZ.png",L="/docs/assets/image-20221230170926513.jJgQuaLR.png",W="/docs/assets/image-20221230171342318.Clple1sA.png",G="/docs/assets/image-20221231085558457.RwxwAoSF.png",H="/docs/assets/image-20230102173905913.maJ2ILiz.png",Y="/docs/assets/image-20230102181215809.3SPFMbfK.png",Z="/docs/assets/image-20230103084645450.DoOy292T.png",$="/docs/assets/image-20230103202630793.PvaP2c3t.png",Q="/docs/assets/image-20230103202919756.BgWqQla4.png",ss="/docs/assets/image-20230103210827003.Bz5IxczB.png",as="/docs/assets/image-20230103212042823.j3ErGOoB.png",ns="/docs/assets/image-20230113144757856.DybEFyad.png",ps="/docs/assets/image-20230113145158771.-W9St_dJ.png",ts="/docs/assets/image-20230113172313655.BWg0llcz.png",es="/docs/assets/image-20230113172854016.D7dMwU_j.png",ls="/docs/assets/image-20230113172659269.CVz6CPu8.png",is="/docs/assets/image-20230113173228232.CeWHFA97.png",os="/docs/assets/image-20230113162746634.C_Z-Diw4.png",cs="/docs/assets/image-20230113162639630.CTPl55Nf.png",rs="/docs/assets/image-20230113165006550.Co_7tktB.png",ds="/docs/assets/image-20230113170841253.XuFhEiVL.png",us="/docs/assets/image-20230113211619818.DC8s6sos.png",gs="/docs/assets/image-20230113214244144.DLuMyzcD.png",ms="/docs/assets/image-20230114001348839.Btl_q-wh.png",hs="/docs/assets/image-20230114001736151.BGRyMjDL.png",bs="/docs/assets/image-20230114003903285.CF4pPXuX.png",Bs=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"backend/spring-boot/SpringBootWebæ¡ˆä¾‹.md","filePath":"backend/spring-boot/SpringBootWebæ¡ˆä¾‹.md"}'),qs={name:"backend/spring-boot/SpringBootWebæ¡ˆä¾‹.md"},vs=e('<h2 id="springbootwebæ¡ˆä¾‹" tabindex="-1">SpringBootWebæ¡ˆä¾‹ <a class="header-anchor" href="#springbootwebæ¡ˆä¾‹" aria-label="Permalink to &quot;SpringBootWebæ¡ˆä¾‹&quot;">â€‹</a></h2><p>ä»Šæ—¥ç›®æ ‡</p><ul><li>å‘˜å·¥ç®¡ç† <ul><li>æ–°å¢å‘˜å·¥ âœï¸ <ul><li>æ–‡ä»¶ä¸Šä¼ (æœ¬åœ°ä¸Šä¼ å’Œossä¸Šä¼ ) âœï¸</li></ul></li><li>ä¿®æ”¹å‘˜å·¥ âœï¸</li></ul></li><li>å…¶ä»– <ul><li>é…ç½®æ–‡ä»¶ <ul><li>ymlæ ¼å¼ âœï¸</li><li>@ConfigurationProperties ğŸâœï¸</li></ul></li></ul></li></ul><p>çŸ¥è¯†å‡†å¤‡</p><ol><li>èƒ½ç†è§£controllerï¼Œserviceï¼Œmapperä¸‰ä¸ªåŒ…çš„å«ä¹‰ä»¥åŠè°ƒç”¨é¡ºåº</li><li>èƒ½å®Œæˆæ–°å¢ï¼Œä¿®æ”¹ï¼Œåˆ é™¤ï¼ŒæŸ¥è¯¢åŸºæœ¬æ“ä½œ</li><li>èƒ½ç†è§£å‰åç«¯äº¤äº’æ˜¯ç”¨è¿‡JSONæ ¼å¼ä¼ é€’æ•°æ®çš„</li><li>èƒ½è¯´å‡ºHTTPåè®®çš„ç‰¹ç‚¹ï¼Œç‰¹åˆ«æ˜¯è¯·æ±‚å’Œå“åº”çš„ç»„æˆéƒ¨åˆ†</li></ol><p><a href="http://www.yangeit.cn:21010/javaweb2023/day11_api.html" target="_blank" rel="noreferrer">apiæ–‡æ¡£</a></p><p><img src="'+l+'" alt="image-20221216160009145"></p><h2 id="_1-æ–°å¢å‘˜å·¥-ğŸš©" tabindex="-1">1. æ–°å¢å‘˜å·¥ ğŸš© <a class="header-anchor" href="#_1-æ–°å¢å‘˜å·¥-ğŸš©" aria-label="Permalink to &quot;1\\. æ–°å¢å‘˜å·¥ ğŸš©&quot;">â€‹</a></h2><p>æ–°å¢å‘˜å·¥</p><p><img src="'+i+'" alt="image-20221216162622582"></p><p>åœ¨æ–°å¢ç”¨æˆ·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶ä¸”è¿˜éœ€è¦ä¸Šä¼ çš„å‘˜å·¥çš„å›¾ç‰‡ï¼Œç›®å‰æˆ‘ä»¬å…ˆå®Œæˆç¬¬ä¸€æ­¥æ“ä½œï¼Œä¿å­˜ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€‚</p><p><strong>æ–°å¢å‘˜å·¥çš„å…·ä½“çš„æµç¨‹ï¼š</strong></p><p><img src="'+o+`" alt="image-20221216170946166"></p><blockquote><p>æ¥å£æ–‡æ¡£è§„å®š ğŸ‘‡ ğŸ‘‡ï¼š</p><ul><li>è¯·æ±‚è·¯å¾„ï¼š/emps</li><li>è¯·æ±‚æ–¹å¼ï¼šPOST</li><li>è¯·æ±‚å‚æ•°ï¼šJsonæ ¼å¼æ•°æ®</li><li>å“åº”æ•°æ®ï¼šJsonæ ¼å¼æ•°æ®</li></ul></blockquote><p><strong>éœ€æ±‚å’Œæ¥å£æ–‡æ¡£</strong> ğŸ¯</p><p>æ–°å¢å‘˜å·¥æ¥å£éœ€æ±‚å’Œæ¥å£æ–‡æ¡£</p><ul><li>åŸºæœ¬ä¿¡æ¯</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>è¯·æ±‚è·¯å¾„ï¼š/emps</span></span>
<span class="line"><span>è¯·æ±‚æ–¹å¼ï¼šPOST</span></span>
<span class="line"><span>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ·»åŠ å‘˜å·¥çš„ä¿¡æ¯</span></span></code></pre></div><ul><li><p>è¯·æ±‚å‚æ•° å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>username</td><td>string</td><td>å¿…é¡»</td><td>ç”¨æˆ·å</td></tr><tr><td>name</td><td>string</td><td>å¿…é¡»</td><td>å§“å</td></tr><tr><td>gender</td><td>number</td><td>å¿…é¡»</td><td>æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³</td></tr><tr><td>image</td><td>string</td><td>éå¿…é¡»</td><td>å›¾åƒ</td></tr><tr><td>deptId</td><td>number</td><td>éå¿…é¡»</td><td>éƒ¨é—¨id</td></tr><tr><td>entrydate</td><td>string</td><td>éå¿…é¡»</td><td>å…¥èŒæ—¥æœŸ</td></tr><tr><td>job</td><td>number</td><td>éå¿…é¡»</td><td>èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ</td></tr></tbody></table><p>è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;image&quot;: &quot;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-03-07-37-38222.jpg&quot;,</span></span>
<span class="line"><span>  &quot;username&quot;: &quot;linpingzhi&quot;,</span></span>
<span class="line"><span>  &quot;name&quot;: &quot;æ—å¹³ä¹‹&quot;,</span></span>
<span class="line"><span>  &quot;gender&quot;: 1,</span></span>
<span class="line"><span>  &quot;job&quot;: 1,</span></span>
<span class="line"><span>  &quot;entrydate&quot;: &quot;2022-09-18&quot;,</span></span>
<span class="line"><span>  &quot;deptId&quot;: 1</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li><p>å“åº”æ•°æ® å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>å¿…é¡»</td><td>å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥</td></tr><tr><td>msg</td><td>string</td><td>éå¿…é¡»</td><td>æç¤ºä¿¡æ¯</td></tr><tr><td>data</td><td>object</td><td>éå¿…é¡»</td><td>è¿”å›çš„æ•°æ®</td></tr></tbody></table><p>å“åº”æ•°æ®æ ·ä¾‹ï¼š</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;code&quot;:1,</span></span>
<span class="line"><span>    &quot;msg&quot;:&quot;success&quot;,</span></span>
<span class="line"><span>    &quot;data&quot;:null</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>åŠŸèƒ½å¼€å‘</strong> ğŸ‘‡ ğŸ‘‡</p><p><strong>EmpController</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>@RequestMapping(&quot;/emps&quot;)</span></span>
<span class="line"><span>public class EmpController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpService empService;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //æ–°å¢</span></span>
<span class="line"><span>    @PostMapping</span></span>
<span class="line"><span>    public Result save(@RequestBody Emp emp){</span></span>
<span class="line"><span>        //è®°å½•æ—¥å¿—</span></span>
<span class="line"><span>        log.info(&quot;æ–°å¢å‘˜å·¥, emp:{}&quot;,emp);</span></span>
<span class="line"><span>        //è°ƒç”¨ä¸šåŠ¡å±‚æ–°å¢åŠŸèƒ½</span></span>
<span class="line"><span>        empService.save(emp);</span></span>
<span class="line"><span>        //å“åº”</span></span>
<span class="line"><span>        return Result.success();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>EmpService</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>public interface EmpService {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * ä¿å­˜å‘˜å·¥ä¿¡æ¯</span></span>
<span class="line"><span>     * @param emp</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    void save(Emp emp);</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>EmpServiceImpl</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@Service</span></span>
<span class="line"><span>public class EmpServiceImpl implements EmpService {</span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpMapper empMapper;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void save(Emp emp) {</span></span>
<span class="line"><span>        //è¡¥å…¨æ•°æ®</span></span>
<span class="line"><span>        emp.setCreateTime(LocalDateTime.now());</span></span>
<span class="line"><span>        emp.setUpdateTime(LocalDateTime.now());</span></span>
<span class="line"><span>        //è°ƒç”¨æ·»åŠ æ–¹æ³•</span></span>
<span class="line"><span>        empMapper.insert(emp);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>EmpMapper</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Mapper</span></span>
<span class="line"><span>public interface EmpMapper {</span></span>
<span class="line"><span>    //æ–°å¢å‘˜å·¥</span></span>
<span class="line"><span>    @Insert(&quot;insert into emp (username, name, gender, image, job, entrydate, dept_id, create_time, update_time) &quot; +</span></span>
<span class="line"><span>            &quot;values (#{username}, #{name}, #{gender}, #{image}, #{job}, #{entrydate}, #{deptId}, #{createTime}, #{updateTime});&quot;)</span></span>
<span class="line"><span>    void insert(Emp emp);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>è¯¾å ‚ä½œä¸š</p><ol><li>ğŸš© ç‹¬è‡ªå®Œæˆæ–°å¢å‘˜å·¥çš„é€»è¾‘ï¼Œå¹¶è¿›è¡ŒPostManæµ‹è¯•ï¼Œæœ€ååœ¨è¿›è¡Œå‰åè”è°ƒ</li></ol><h2 id="_2-æ–‡ä»¶ä¸Šä¼ -ğŸš©-âœï¸-ğŸ" tabindex="-1">2. æ–‡ä»¶ä¸Šä¼  ğŸš© âœï¸ ğŸ <a class="header-anchor" href="#_2-æ–‡ä»¶ä¸Šä¼ -ğŸš©-âœï¸-ğŸ" aria-label="Permalink to &quot;2\\. æ–‡ä»¶ä¸Šä¼  ğŸš© âœï¸ ğŸ&quot;">â€‹</a></h2><p>é—®é¢˜</p><ol><li>æ–°å¢å‘˜å·¥åŠŸèƒ½ä¸­ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæ²¡æœ‰å¤´åƒ(å›¾ç‰‡ç¼ºå¤±)ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ</li></ol><p><img src="`+c+'" alt="image-20221216200653717"></p><p>ç‚¹å‡»æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ</p><ol><li>ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ ï¼Œå°†å›¾ç‰‡å­˜å‚¨åˆ°æœ¬åœ°æˆ–è€…é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸­</li></ol><h3 id="_1ï¸âƒ£-2-1-ç®€ä»‹-pear" tabindex="-1">1ï¸âƒ£ 2.1 ç®€ä»‹ :pear <a class="header-anchor" href="#_1ï¸âƒ£-2-1-ç®€ä»‹-pear" aria-label="Permalink to &quot;1ï¸âƒ£ 2.1 ç®€ä»‹ :pear&quot;">â€‹</a></h3><p><strong>æ–‡ä»¶ä¸Šä¼ </strong>ï¼Œæ˜¯æŒ‡å°†æœ¬åœ°å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œ<strong>ä¾›å…¶ä»–ç”¨æˆ·æµè§ˆæˆ–ä¸‹è½½</strong>çš„è¿‡ç¨‹ã€‚</p><p>æ–‡ä»¶ä¸Šä¼ åœ¨é¡¹ç›®ä¸­åº”ç”¨éå¸¸å¹¿æ³›ï¼Œæˆ‘ä»¬ç»å¸¸å‘å¾®åšã€å‘å¾®ä¿¡æœ‹å‹åœˆéƒ½ç”¨åˆ°äº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚</p><p><img src="'+r+`" alt="image-20221216203904713"></p><blockquote><p>åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œåœ¨æ–°å¢å‘˜å·¥çš„æ—¶å€™ï¼Œè¦ä¸Šä¼ å‘˜å·¥çš„å¤´åƒï¼Œæ­¤æ—¶å°±ä¼šæ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ã€‚åœ¨è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œæˆ‘ä»¬ç‚¹å‡»åŠ å·æˆ–è€…æ˜¯ç‚¹å‡»å›¾ç‰‡ï¼Œå°±å¯ä»¥é€‰æ‹©æ‰‹æœºæˆ–è€…æ˜¯ç”µè„‘æœ¬åœ°çš„å›¾ç‰‡æ–‡ä»¶äº†ã€‚å½“æˆ‘ä»¬é€‰æ‹©äº†æŸä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ä¹‹åï¼Œè¿™ä¸ªæ–‡ä»¶å°±ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä»è€Œå®Œæˆæ–‡ä»¶ä¸Šä¼ çš„æ“ä½œã€‚</p></blockquote><p>æƒ³è¦å®Œæˆæ–‡ä»¶ä¸Šä¼ è¿™ä¸ªåŠŸèƒ½éœ€è¦æ¶‰åŠåˆ°ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>å‰ç«¯ç¨‹åº</li><li>æœåŠ¡ç«¯ç¨‹åº</li></ol><p><strong>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹åœ¨å‰ç«¯ç¨‹åºä¸­è¦å®Œæˆå“ªäº›ä»£ç ï¼š</strong> å‰ç«¯ä»£ç è§„åˆ™ï¼Œäº†è§£ä¸€ä¸‹</p><p>ç‚¹å‡»æŸ¥çœ‹å‰ç«¯ä»£ç </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span></span>
<span class="line"><span>å§“å: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>    å¹´é¾„: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>    å¤´åƒ: &lt;input type=&quot;file&quot; name=&quot;image&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span></span>
<span class="line"><span>&lt;/form&gt;</span></span></code></pre></div><p>ä¸Šä¼ æ–‡ä»¶çš„åŸå§‹formè¡¨å•ï¼Œè¦æ±‚è¡¨å•å¿…é¡»å…·å¤‡ä»¥ä¸‹ä¸‰ç‚¹ï¼ˆä¸Šä¼ æ–‡ä»¶é¡µé¢ä¸‰è¦ç´ ï¼‰ï¼š</p><ul><li><h5 id="_1ï¸âƒ£-è¡¨å•å¿…é¡»æœ‰fileåŸŸ-ç”¨äºé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶" tabindex="-1">1ï¸âƒ£ è¡¨å•å¿…é¡»æœ‰fileåŸŸï¼Œç”¨äºé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ <a class="header-anchor" href="#_1ï¸âƒ£-è¡¨å•å¿…é¡»æœ‰fileåŸŸ-ç”¨äºé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶" aria-label="Permalink to &quot;1ï¸âƒ£ è¡¨å•å¿…é¡»æœ‰fileåŸŸï¼Œç”¨äºé€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶&quot;">â€‹</a></h5><blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;input type=&quot;file&quot; name=&quot;image&quot;/&gt;</span></span></code></pre></div></blockquote></li><li><h5 id="_2ï¸âƒ£-è¡¨å•æäº¤æ–¹å¼å¿…é¡»ä¸ºpost" tabindex="-1">2ï¸âƒ£ è¡¨å•æäº¤æ–¹å¼å¿…é¡»ä¸ºPOST <a class="header-anchor" href="#_2ï¸âƒ£-è¡¨å•æäº¤æ–¹å¼å¿…é¡»ä¸ºpost" aria-label="Permalink to &quot;2ï¸âƒ£ è¡¨å•æäº¤æ–¹å¼å¿…é¡»ä¸ºPOST&quot;">â€‹</a></h5><blockquote><p>é€šå¸¸ä¸Šä¼ çš„æ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ POST æäº¤æ–¹å¼</p></blockquote></li><li><h5 id="_3ï¸âƒ£-è¡¨å•çš„ç¼–ç ç±»å‹enctypeå¿…é¡»è¦è®¾ç½®ä¸º-multipart-form-data" tabindex="-1">3ï¸âƒ£ è¡¨å•çš„ç¼–ç ç±»å‹enctypeå¿…é¡»è¦è®¾ç½®ä¸ºï¼šmultipart/form-data <a class="header-anchor" href="#_3ï¸âƒ£-è¡¨å•çš„ç¼–ç ç±»å‹enctypeå¿…é¡»è¦è®¾ç½®ä¸º-multipart-form-data" aria-label="Permalink to &quot;3ï¸âƒ£ è¡¨å•çš„ç¼–ç ç±»å‹enctypeå¿…é¡»è¦è®¾ç½®ä¸ºï¼šmultipart/form-data&quot;">â€‹</a></h5><blockquote><p>æ™®é€šé»˜è®¤çš„ç¼–ç æ ¼å¼æ˜¯ä¸é€‚åˆä¼ è¾“å¤§å‹çš„äºŒè¿›åˆ¶æ•°æ®çš„ï¼Œæ‰€ä»¥åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œè¡¨å•çš„ç¼–ç æ ¼å¼å¿…é¡»è®¾ç½®ä¸ºmultipart/form-data</p></blockquote></li></ul><p>å‰ç«¯é¡µé¢çš„3è¦ç´ æˆ‘ä»¬äº†è§£åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥éªŒè¯ä¸‹æ‰€è®²è§£çš„æ–‡ä»¶ä¸Šä¼ 3è¦ç´ ã€‚</p><p>èµ„æ–™æä¾›</p><p>åœ¨æä¾›çš„&quot;è¯¾ç¨‹èµ„æ–™&quot;ä¸­æœ‰ä¸€ä¸ªåå«&quot;æ–‡ä»¶ä¸Šä¼ &quot;çš„æ–‡ä»¶å¤¹ï¼Œç›´æ¥å°†é‡Œçš„&quot;upload.html&quot;æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°springbooté¡¹ç›®å·¥ç¨‹ä¸‹çš„staticç›®å½•é‡Œé¢ã€‚</p><p><img src="`+d+`" alt="image-20221216210054136"></p><p>ç‚¹å‡»æŸ¥çœ‹upload.htmlä»£ç </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;ä¸Šä¼ æ–‡ä»¶&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span></span>
<span class="line"><span>        å§“å: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        å¹´é¾„: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        å¤´åƒ: &lt;input type=&quot;file&quot; name=&quot;image&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span></span>
<span class="line"><span>    &lt;/form&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span></code></pre></div><p><strong>ä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ï¼šåˆ é™¤formè¡¨å•ä¸­enctypeå±æ€§å€¼ï¼Œä¼šæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</strong></p><ol><li>åœ¨IDEAä¸­ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€upload.htmlé¡µé¢</li></ol><p><img src="`+u+'" alt="image-20221216210643628"></p><ol start="2"><li>é€‰æ‹©è¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶</li></ol><p><img src="'+g+'" alt="image-20221216210938612"></p><ol start="3"><li>ç‚¹å‡»&quot;æäº¤&quot;æŒ‰é’®ï¼Œè¿›å…¥åˆ°å¼€å‘è€…æ¨¡å¼è§‚å¯Ÿ</li></ol><p><img src="'+m+'" alt="image-20221216211629307"></p><p><img src="'+h+`" alt="image-20221216212152607"></p><p><strong>æˆ‘ä»¬å†æ¥éªŒè¯ï¼šè®¾ç½®formè¡¨å•ä¸­enctypeå±æ€§å€¼ä¸ºmultipart/form-dataï¼Œä¼šæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span> &lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span></span>
<span class="line"><span>        å§“å: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        å¹´é¾„: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        å¤´åƒ: &lt;input type=&quot;file&quot; name=&quot;image&quot;&gt;&lt;br&gt;</span></span>
<span class="line"><span>        &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span></span>
<span class="line"><span>    &lt;/form&gt;</span></span></code></pre></div><p><img src="`+b+'" alt="image-20221216215320623"></p><p><img src="'+q+'" alt="image-20221216215041710"></p><p>åç«¯ç¨‹åºæ¥å—å‰ç«¯ä¸Šä¼ æ–‡ä»¶æ­¥é„¹ åç«¯ä»£ç è§„åˆ™ï¼Œå­¦ä¹ ä¸€ä¸‹</p><ul><li><p>é¦–å…ˆåœ¨æœåŠ¡ç«¯å®šä¹‰è¿™ä¹ˆä¸€ä¸ªcontrollerï¼Œç”¨æ¥è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼Œç„¶ååœ¨controllerå½“ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†<code>/upload</code> è¯·æ±‚</p></li><li><p>åœ¨å®šä¹‰çš„æ–¹æ³•ä¸­æ¥æ”¶æäº¤è¿‡æ¥çš„æ•°æ® ï¼ˆæ–¹æ³•ä¸­çš„å½¢å‚åå’Œè¯·æ±‚å‚æ•°çš„åå­—ä¿æŒä¸€è‡´ï¼‰</p><ul><li>ç”¨æˆ·åï¼šString name</li><li>å¹´é¾„ï¼š Integer age</li><li>æ–‡ä»¶ï¼š MultipartFile image</li></ul><blockquote><p>Springä¸­æä¾›äº†ä¸€ä¸ªAPIï¼šMultipartFileï¼Œä½¿ç”¨è¿™ä¸ªAPIå°±å¯ä»¥æ¥æ¥æ”¶åˆ°ä¸Šä¼ çš„æ–‡ä»¶</p></blockquote></li></ul><p><img src="'+v+`" alt="image-20221216215930807"></p><p>å¦‚æœè¡¨å•é¡¹çš„åå­—å’Œæ–¹æ³•ä¸­å½¢å‚åä¸ä¸€è‡´ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿåç«¯å°æŠ€å·§ï¼Œäº†è§£ä¸€ä¸‹</p><p>ç‚¹å‡»æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ</p><p>upload.html</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>public Result upload(String username,</span></span>
<span class="line"><span>                    Integer age, </span></span>
<span class="line"><span>                    MultipartFile file) //fileå½¢å‚åå’Œè¯·æ±‚å‚æ•°åimageä¸ä¸€è‡´</span></span></code></pre></div><p>è§£å†³ï¼šä½¿ç”¨@RequestParamæ³¨è§£è¿›è¡Œå‚æ•°ç»‘å®š</p><p><strong>UploadControllerä»£ç ï¼š</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>public class UploadController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>    public Result upload(String username, Integer age, MultipartFile image)  {</span></span>
<span class="line"><span>        log.info(&quot;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}&quot;,username,age,image);</span></span>
<span class="line"><span>        return Result.success();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre></div><blockquote><p>åç«¯ç¨‹åºç¼–å†™å®Œæˆä¹‹åï¼Œæ‰“ä¸ªæ–­ç‚¹ï¼Œä»¥debugæ–¹å¼å¯åŠ¨SpringBooté¡¹ç›®</p></blockquote><p><img src="`+S+'" alt="image-20221216222533720"></p><blockquote><p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/upload.html" target="_blank" rel="noreferrer">http://localhost:8080/upload.htmlopen in new window</a> ï¼Œ å½•å…¥æ•°æ®å¹¶æäº¤</p></blockquote><p><img src="'+y+'" alt="image-20221216222412510"></p><p>é€šè¿‡åç«¯ç¨‹åºæ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¼ çš„æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ä¸€ä¸ªä¸´æ—¶ç›®å½•</p><p><img src="'+C+'" alt="image-20221216222802617"></p><blockquote><p>æ‰“å¼€ä¸´æ—¶ç›®å½•å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š</p></blockquote><p><img src="'+k+'" alt="image-20221216223328710"></p><blockquote><p>è¡¨å•æäº¤çš„ä¸‰é¡¹æ•°æ®(å§“åã€å¹´é¾„ã€æ–‡ä»¶)ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„ä¸´æ—¶æ–‡ä»¶ä¸­ï¼š</p></blockquote><p><img src="'+_+`" alt="image-20221216223300846"></p><blockquote><p>å½“æˆ‘ä»¬ç¨‹åºè¿è¡Œå®Œæ¯•ä¹‹åï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦å°†è¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè¦è½¬å­˜åˆ°æˆ‘ä»¬çš„ç£ç›˜ç›®å½•ä¸­ã€‚</p></blockquote><h3 id="_2ï¸âƒ£2-2-æœ¬åœ°å­˜å‚¨" tabindex="-1">2ï¸âƒ£2.2 æœ¬åœ°å­˜å‚¨ <a class="header-anchor" href="#_2ï¸âƒ£2-2-æœ¬åœ°å­˜å‚¨" aria-label="Permalink to &quot;2ï¸âƒ£2.2 æœ¬åœ°å­˜å‚¨&quot;">â€‹</a></h3><p>å‰é¢æˆ‘ä»¬å·²åˆ†æäº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å‰ç«¯å’Œåç«¯çš„åŸºç¡€ä»£ç å®ç°ï¼Œ<strong>æ–‡ä»¶ä¸Šä¼ æ—¶åœ¨æœåŠ¡ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªä¸´æ—¶æ–‡ä»¶</strong>ï¼Œè¯·æ±‚å“åº”å®Œæˆä¹‹åï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶<strong>è¢«è‡ªåŠ¨åˆ é™¤</strong>ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œä¿å­˜ã€‚ä¸‹é¢å‘¢ï¼Œ<strong>æˆ‘ä»¬å°±éœ€è¦å®Œæˆå°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨æœåŠ¡å™¨çš„æœ¬åœ°ç£ç›˜ä¸Š</strong>æŒä¹…åŒ–ã€‚</p><p>ä»£ç å®ç°ï¼š</p><ol><li>åœ¨æœåŠ¡å™¨æœ¬åœ°ç£ç›˜ä¸Šåˆ›å»ºimagesç›®å½•ï¼Œç”¨æ¥å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶ï¼ˆä¾‹ï¼šEç›˜åˆ›å»ºimagesç›®å½•ï¼‰</li><li>ä½¿ç”¨MultipartFileç±»æä¾›çš„APIæ–¹æ³•ï¼ŒæŠŠä¸´æ—¶æ–‡ä»¶è½¬å­˜åˆ°æœ¬åœ°ç£ç›˜ç›®å½•ä¸‹</li></ol><blockquote><p>MultipartFile å¸¸è§æ–¹æ³•ï¼š</p><ul><li>String getOriginalFilename(); //è·å–åŸå§‹æ–‡ä»¶å</li><li>void transferTo(File dest); //å°†æ¥æ”¶çš„æ–‡ä»¶è½¬å­˜åˆ°ç£ç›˜æ–‡ä»¶ä¸­</li><li>long getSize(); //è·å–æ–‡ä»¶çš„å¤§å°ï¼Œå•ä½ï¼šå­—èŠ‚</li><li>byte[] getBytes(); //è·å–æ–‡ä»¶å†…å®¹çš„å­—èŠ‚æ•°ç»„</li><li>InputStream getInputStream(); //è·å–æ¥æ”¶åˆ°çš„æ–‡ä»¶å†…å®¹çš„è¾“å…¥æµ</li></ul></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>public class UploadController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>    public Result upload(String username, Integer age, MultipartFile image) throws IOException {</span></span>
<span class="line"><span>        log.info(&quot;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}&quot;,username,age,image);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //è·å–åŸå§‹æ–‡ä»¶å</span></span>
<span class="line"><span>        String originalFilename = image.getOriginalFilename();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //å°†æ–‡ä»¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•</span></span>
<span class="line"><span>        image.transferTo(new File(&quot;E:/images/&quot;+originalFilename));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        return Result.success();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre></div><p>ç‚¹å‡»æŸ¥çœ‹æµ‹è¯•æ­¥é„¹ å’Œä¼˜åŒ–æªæ–½</p><p>åˆ©ç”¨postmanæµ‹è¯•ï¼š</p><blockquote><p>æ³¨æ„ï¼šè¯·æ±‚å‚æ•°åå’Œcontrolleræ–¹æ³•å½¢å‚åä¿æŒä¸€è‡´</p></blockquote><p><img src="`+f+'" alt="image-20221227211742547"></p><p><img src="'+I+'" alt="image-20221227214219279"></p><p><img src="'+O+`" alt="image-20221227214753358"></p><p>é€šè¿‡postmanæµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°æ–‡ä»¶ä¸Šä¼ æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨åŸå§‹æ–‡ä»¶åä½œä¸ºæ‰€ä¸Šä¼ æ–‡ä»¶çš„å­˜å‚¨åå­—ï¼Œå½“æˆ‘ä»¬å†æ¬¡ä¸Šä¼ ä¸€ä¸ªåä¸º1.jpgæ–‡ä»¶æ—¶ï¼Œ<strong>å‘ç°ä¼šæŠŠä¹‹å‰å·²ç»ä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶è¦†ç›–æ‰</strong>ã€‚ ğŸ‘‡ ğŸ‘‡ ğŸ‘‡</p><p>ç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶è¦†ç›–æ‰çš„è§£å†³æ–¹æ¡ˆ</p><p>è§£å†³æ–¹æ¡ˆï¼šä¿è¯æ¯æ¬¡ä¸Šä¼ æ–‡ä»¶æ—¶æ–‡ä»¶åéƒ½å”¯ä¸€çš„ï¼ˆä½¿ç”¨UUIDè·å–éšæœºæ–‡ä»¶åï¼‰</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>public class UploadController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>    public Result upload(String username, Integer age, MultipartFile image) throws IOException {</span></span>
<span class="line"><span>        log.info(&quot;æ–‡ä»¶ä¸Šä¼ ï¼š{},{},{}&quot;,username,age,image);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //è·å–åŸå§‹æ–‡ä»¶å</span></span>
<span class="line"><span>        String originalFilename = image.getOriginalFilename();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //æ„å»ºæ–°çš„æ–‡ä»¶å</span></span>
<span class="line"><span>        String extname = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));//æ–‡ä»¶æ‰©å±•å</span></span>
<span class="line"><span>        String newFileName = UUID.randomUUID().toString()+extname;//éšæœºå+æ–‡ä»¶æ‰©å±•å</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //å°†æ–‡ä»¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•</span></span>
<span class="line"><span>        image.transferTo(new File(&quot;E:/images/&quot;+newFileName));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        return Result.success();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre></div><p>åœ¨è§£å†³äº†æ–‡ä»¶åå”¯ä¸€æ€§çš„é—®é¢˜åï¼Œæˆ‘ä»¬å†æ¬¡ä¸Šä¼ ä¸€ä¸ªè¾ƒå¤§çš„æ–‡ä»¶(è¶…å‡º1M)æ—¶å‘ç°ï¼Œåç«¯ç¨‹åºæŠ¥é”™ï¼š</p><p><img src="`+w+`" alt="image-20221227223851924"></p><p>æŠ¥é”™åŸå› å‘¢æ˜¯å› ä¸ºï¼šåœ¨SpringBootä¸­ï¼Œæ–‡ä»¶ä¸Šä¼ æ—¶é»˜è®¤å•ä¸ªæ–‡ä»¶æœ€å¤§å¤§å°ä¸º1M</p><p>é‚£ä¹ˆå¦‚æœéœ€è¦ä¸Šä¼ å¤§æ–‡ä»¶ï¼Œå¯ä»¥åœ¨application.propertiesè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>#é…ç½®å•ä¸ªæ–‡ä»¶æœ€å¤§ä¸Šä¼ å¤§å°</span></span>
<span class="line"><span>spring.servlet.multipart.max-file-size=10MB</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#é…ç½®å•ä¸ªè¯·æ±‚æœ€å¤§ä¸Šä¼ å¤§å°(ä¸€æ¬¡è¯·æ±‚å¯ä»¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶)</span></span>
<span class="line"><span>spring.servlet.multipart.max-request-size=100MB</span></span></code></pre></div><p>åˆ°æ—¶æ­¤ï¼Œæˆ‘ä»¬æ–‡ä»¶ä¸Šä¼ çš„æœ¬åœ°å­˜å‚¨æ–¹å¼å·²å®Œæˆäº†ã€‚</p><p>æœ¬åœ°å­˜å‚¨æ–¹å¼çš„ä¸è¶³</p><p><img src="`+B+'" alt="image-20220904200320964"></p><p>å¦‚æœç›´æ¥å­˜å‚¨åœ¨æœåŠ¡å™¨çš„ç£ç›˜ç›®å½•ä¸­ï¼Œå­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š</p><ul><li>ä¸å®‰å…¨ï¼šç£ç›˜å¦‚æœæŸåï¼Œæ‰€æœ‰çš„æ–‡ä»¶å°±ä¼šä¸¢å¤±</li><li>å®¹é‡æœ‰é™ï¼šå¦‚æœå­˜å‚¨å¤§é‡çš„å›¾ç‰‡ï¼Œç£ç›˜ç©ºé—´æœ‰é™(ç£ç›˜ä¸å¯èƒ½æ— é™åˆ¶æ‰©å®¹)</li><li>æ— æ³•ç›´æ¥è®¿é—®</li></ul><p>é€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>è‡ªå·±æ­å»ºå­˜å‚¨æœåŠ¡å™¨ï¼Œå¦‚ï¼šfastDFS ã€MinIO å®ç”¨</li><li>ä½¿ç”¨ç°æˆçš„äº‘æœåŠ¡ï¼Œå¦‚ï¼šé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œåä¸ºäº‘</li></ul><p>ä½œä¸š</p><ol><li>ğŸš© èƒ½å¤Ÿæµç•…çš„è¯´å‡ºæ–‡ä»¶ä¸Šä¼ çš„æ³¨æ„äº‹é¡¹ä»¥åŠæ ¸å¿ƒJavaç±»ï¼Œä»¥åŠæœ¬åœ°å­˜å‚¨çš„ç¼ºç‚¹</li></ol><h3 id="_3ï¸âƒ£2-3-é˜¿é‡Œäº‘oss" tabindex="-1">3ï¸âƒ£2.3 é˜¿é‡Œäº‘OSS <a class="header-anchor" href="#_3ï¸âƒ£2-3-é˜¿é‡Œäº‘oss" aria-label="Permalink to &quot;3ï¸âƒ£2.3 é˜¿é‡Œäº‘OSS&quot;">â€‹</a></h3><h4 id="_2-3-1-å‡†å¤‡" tabindex="-1">2.3.1 å‡†å¤‡ <a class="header-anchor" href="#_2-3-1-å‡†å¤‡" aria-label="Permalink to &quot;2.3.1 å‡†å¤‡&quot;">â€‹</a></h4><p><strong>é˜¿é‡Œäº‘æ˜¯é˜¿é‡Œå·´å·´é›†å›¢æ——ä¸‹å…¨çƒé¢†å…ˆçš„äº‘è®¡ç®—å…¬å¸ï¼Œä¹Ÿæ˜¯å›½å†…æœ€å¤§çš„äº‘æœåŠ¡æä¾›å•† ã€‚</strong></p><p><img src="'+x+'" alt="image-20221229093412464"></p><blockquote><p>äº‘æœåŠ¡æŒ‡çš„å°±æ˜¯é€šè¿‡äº’è”ç½‘å¯¹å¤–æä¾›çš„å„ç§å„æ ·çš„æœåŠ¡ï¼Œæ¯”å¦‚åƒï¼šè¯­éŸ³æœåŠ¡ã€çŸ­ä¿¡æœåŠ¡ã€é‚®ä»¶æœåŠ¡ã€è§†é¢‘ç›´æ’­æœåŠ¡ã€æ–‡å­—è¯†åˆ«æœåŠ¡ã€å¯¹è±¡å­˜å‚¨æœåŠ¡ç­‰ç­‰ã€‚</p><p>å½“æˆ‘ä»¬åœ¨é¡¹ç›®å¼€å‘æ—¶éœ€è¦ç”¨åˆ°æŸä¸ªæˆ–æŸäº›æœåŠ¡ï¼Œå°±ä¸éœ€è¦è‡ªå·±æ¥å¼€å‘äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é˜¿é‡Œäº‘æä¾›å¥½çš„è¿™äº›ç°æˆæœåŠ¡å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼šåœ¨é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªçŸ­ä¿¡å‘é€çš„åŠŸèƒ½ï¼Œå¦‚æœæˆ‘ä»¬é¡¹ç›®ç»„è‡ªå·±å®ç°ï¼Œå°†ä¼šéå¸¸ç¹çï¼Œå› ä¸ºä½ éœ€è¦å’Œå„ä¸ªè¿è¥å•†è¿›è¡Œå¯¹æ¥ã€‚è€Œæ­¤æ—¶é˜¿é‡Œäº‘å®Œæˆäº†å’Œä¸‰å¤§è¿è¥å•†å¯¹æ¥ï¼Œå¹¶å¯¹å¤–æä¾›äº†ä¸€ä¸ªçŸ­ä¿¡æœåŠ¡ã€‚æˆ‘ä»¬é¡¹ç›®ç»„åªéœ€è¦è°ƒç”¨é˜¿é‡Œäº‘æä¾›çš„çŸ­ä¿¡æœåŠ¡ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ¥å‘é€çŸ­ä¿¡äº†ã€‚è¿™æ ·å°±é™ä½äº†æˆ‘ä»¬é¡¹ç›®çš„å¼€å‘éš¾åº¦ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚ï¼ˆå¤§ç™½è¯ï¼šåˆ«äººå¸®æˆ‘ä»¬å®ç°å¥½äº†åŠŸèƒ½ï¼Œæˆ‘ä»¬åªè¦è°ƒç”¨å³å¯ï¼‰</p><p>äº‘æœåŠ¡æä¾›å•†ç»™æˆ‘ä»¬æä¾›çš„è½¯ä»¶æœåŠ¡é€šå¸¸æ˜¯éœ€è¦æ”¶å–ä¸€éƒ¨åˆ†è´¹ç”¨çš„ã€‚</p></blockquote><p>ç‚¹å‡»æŸ¥çœ‹é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSSä»‹ç»å’Œä½¿ç”¨</p><p>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSSï¼ˆObject Storage Serviceï¼‰ï¼Œæ˜¯ä¸€æ¬¾æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚ä½¿ç”¨OSSï¼Œæ‚¨å¯ä»¥é€šè¿‡ç½‘ç»œéšæ—¶å­˜å‚¨å’Œè°ƒç”¨åŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘ç­‰åœ¨å†…çš„å„ç§æ–‡ä»¶ã€‚</p><p><img src="'+P+'" alt="image-20220904200642064"></p><p>åœ¨æˆ‘ä»¬ä½¿ç”¨äº†é˜¿é‡Œäº‘OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ä¹‹åï¼Œæˆ‘ä»¬çš„é¡¹ç›®å½“ä¸­å¦‚æœæ¶‰åŠåˆ°æ–‡ä»¶ä¸Šä¼ è¿™æ ·çš„ä¸šåŠ¡ï¼Œåœ¨å‰ç«¯è¿›è¡Œæ–‡ä»¶ä¸Šä¼ å¹¶è¯·æ±‚åˆ°æœåŠ¡ç«¯æ—¶ï¼Œåœ¨æœåŠ¡å™¨æœ¬åœ°ç£ç›˜å½“ä¸­å°±ä¸éœ€è¦å†æ¥å­˜å‚¨æ–‡ä»¶äº†ã€‚æˆ‘ä»¬ç›´æ¥å°†æ¥æ”¶åˆ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°ossï¼Œç”± osså¸®æˆ‘ä»¬å­˜å‚¨å’Œç®¡ç†ï¼ŒåŒæ—¶é˜¿é‡Œäº‘çš„osså­˜å‚¨æœåŠ¡è¿˜ä¿éšœäº†æˆ‘ä»¬æ‰€å­˜å‚¨å†…å®¹çš„å®‰å…¨å¯é ã€‚</p><p><img src="'+D+'" alt="image-20221229095709505"></p><p>é‚£æˆ‘ä»¬å­¦ä¹ ä½¿ç”¨è¿™ç±»äº‘æœåŠ¡ï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®æˆ‘ä»¬ä¸»è¦å­¦ä¹ çš„æ˜¯å¦‚ä½•åœ¨é¡¹ç›®å½“ä¸­æ¥ä½¿ç”¨äº‘æœåŠ¡å®Œæˆå…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½ã€‚è€Œæ— è®ºä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‘æœåŠ¡ï¼Œé˜¿é‡Œäº‘ä¹Ÿå¥½ï¼Œè…¾è®¯äº‘ã€åä¸ºäº‘ä¹Ÿç½¢ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æœåŠ¡æ—¶ï¼Œæ“ä½œçš„æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><img src="'+j+'" alt="image-20221229093911113"></p><blockquote><p>SDKï¼šSoftware Development Kit çš„ç¼©å†™ï¼Œè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ŒåŒ…æ‹¬è¾…åŠ©è½¯ä»¶å¼€å‘çš„ä¾èµ–ï¼ˆjaråŒ…ï¼‰ã€ä»£ç ç¤ºä¾‹ç­‰ï¼Œéƒ½å¯ä»¥å«åšSDKã€‚</p><p>ç®€å•è¯´ï¼Œsdkä¸­åŒ…å«äº†æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹äº‘æœåŠ¡æ—¶æ‰€éœ€è¦çš„ä¾èµ–ï¼Œä»¥åŠä¸€äº›ç¤ºä¾‹ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥å‚ç…§sdkæ‰€æä¾›çš„ç¤ºä¾‹ä»£ç å°±å¯ä»¥å®Œæˆå…¥é—¨ç¨‹åºã€‚</p></blockquote><p>ç¬¬ä¸‰æ–¹æœåŠ¡ä½¿ç”¨çš„é€šç”¨æ€è·¯ï¼Œæˆ‘ä»¬åšä¸€ä¸ªç®€å•ä»‹ç»ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬å½“å‰è¦ä½¿ç”¨çš„é˜¿é‡Œäº‘osså¯¹è±¡å­˜å‚¨æœåŠ¡å…·ä½“çš„ä½¿ç”¨æ­¥éª¤ã€‚</p><p><img src="'+E+'" alt="image-20221229112451120"></p><blockquote><p>Bucketï¼šå­˜å‚¨ç©ºé—´æ˜¯ç”¨æˆ·ç”¨äºå­˜å‚¨å¯¹è±¡ï¼ˆObjectï¼Œå°±æ˜¯æ–‡ä»¶ï¼‰çš„å®¹å™¨ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½å¿…é¡»éš¶å±äºæŸä¸ªå­˜å‚¨ç©ºé—´ã€‚</p></blockquote><p>ä¸‹é¢æˆ‘ä»¬æ ¹æ®ä¹‹å‰ä»‹ç»çš„ä½¿ç”¨æ­¥éª¤ï¼Œå®Œæˆå‡†å¤‡å·¥ä½œï¼š</p><ol><li>æ³¨å†Œé˜¿é‡Œäº‘è´¦æˆ·ï¼ˆæ³¨å†Œå®Œæˆåéœ€è¦å®åè®¤è¯ï¼‰</li><li>æ³¨å†Œå®Œè´¦å·ä¹‹åï¼Œå°±å¯ä»¥ç™»å½•é˜¿é‡Œäº‘</li></ol><p><img src="'+T+'" alt="image-20220904201839857"></p><ol start="3"><li>é€šè¿‡æ§åˆ¶å°æ‰¾åˆ°å¯¹è±¡å­˜å‚¨OSSæœåŠ¡</li></ol><p><img src="'+A+'" alt="image-20220904201932884"></p><blockquote><p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œè¿˜éœ€è¦å¼€é€šå¯¹è±¡å­˜å‚¨æœåŠ¡OSS</p></blockquote><p><img src="'+M+'" alt="image-20220904202537579"></p><p><img src="'+R+'" alt="image-20220904202618423"></p><ol start="4"><li>å¼€é€šOSSæœåŠ¡ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥åˆ°é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨çš„æ§åˆ¶å°</li></ol><p><img src="'+F+'" alt="image-20220904201810832"></p><ol start="5"><li>ç‚¹å‡»å·¦ä¾§çš„ &quot;Bucketåˆ—è¡¨&quot;ï¼Œåˆ›å»ºä¸€ä¸ªBucket</li></ol><p><img src="'+U+'" alt="image-20220904202235180"></p><p><img src="'+K+'" alt=""></p><blockquote><p>å¤§å®¶å¯ä»¥å‚ç…§&quot;èµ„æ–™\\04. é˜¿é‡Œäº‘oss&quot;ä¸­æä¾›çš„æ–‡æ¡£ï¼Œå¼€é€šé˜¿é‡Œäº‘OSSæœåŠ¡ã€‚<a href="http://www.yangeit.cn:21010/javaweb2023/AliOSS.html" target="_blank" rel="noreferrer">ç‚¹å‡»æŸ¥çœ‹é˜¿é‡Œäº‘æ–‡æ¡£</a></p></blockquote><h4 id="_2-3-2-å…¥é—¨å’Œé›†æˆ" tabindex="-1">2.3.2 å…¥é—¨å’Œé›†æˆ <a class="header-anchor" href="#_2-3-2-å…¥é—¨å’Œé›†æˆ" aria-label="Permalink to &quot;2.3.2 å…¥é—¨å’Œé›†æˆ&quot;">â€‹</a></h4><p><a href="http://www.yangeit.cn:21010/javaweb2023/AliOSS.html" target="_blank" rel="noreferrer">æŸ¥çœ‹é˜¿é‡Œäº‘ossæ–‡æ¡£</a></p><p>æŠ€å·§</p><p>ä»£ç ä¸­ï¼Œéœ€è¦æ›¿æ¢çš„å†…å®¹ä¸ºï¼š</p><ul><li>accessKeyIdï¼šé˜¿é‡Œäº‘è´¦å·AccessKey</li><li>accessKeySecretï¼šé˜¿é‡Œäº‘è´¦å·AccessKeyå¯¹åº”çš„ç§˜é’¥</li><li>bucketNameï¼šBucketåç§°</li><li>objectNameï¼šå¯¹è±¡åç§°ï¼Œåœ¨Bucketä¸­å­˜å‚¨çš„å¯¹è±¡çš„åç§°</li><li>filePathï¼šæ–‡ä»¶è·¯å¾„</li></ul><p>AccessKey ï¼š</p><p><img src="'+N+'" alt="image-20221128020105943"></p><p>è¿è¡Œä»¥ä¸Šç¨‹åºåï¼Œä¼šæŠŠæœ¬åœ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSSæœåŠ¡å™¨ä¸Šï¼š</p><p><img src="'+z+'" alt="image-20221229161326919"></p><p>é˜¿é‡Œäº‘osså¯¹è±¡å­˜å‚¨æœåŠ¡çš„å‡†å¤‡å·¥ä½œä»¥åŠå…¥é—¨ç¨‹åºæˆ‘ä»¬éƒ½å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦åœ¨æ¡ˆä¾‹å½“ä¸­é›†æˆosså¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæ¥å­˜å‚¨å’Œç®¡ç†æ¡ˆä¾‹ä¸­ä¸Šä¼ çš„å›¾ç‰‡ã€‚</p><p><img src="'+V+`" alt="image-20221229170235632"></p><blockquote><p>åœ¨æ–°å¢å‘˜å·¥çš„æ—¶å€™ï¼Œä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œè€Œä¹‹æ‰€ä»¥éœ€è¦ä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œæ˜¯å› ä¸ºå°†æ¥æˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿé¡µé¢å½“ä¸­è®¿é—®å¹¶å±•ç¤ºå‘˜å·¥çš„å›¾åƒã€‚è€Œè¦æƒ³å®Œæˆè¿™ä¸ªæ“ä½œï¼Œéœ€è¦åšä¸¤ä»¶äº‹ï¼š</p><ol><li>éœ€è¦ä¸Šä¼ å‘˜å·¥çš„å›¾åƒï¼Œå¹¶æŠŠå›¾åƒä¿å­˜èµ·æ¥ï¼ˆå­˜å‚¨åˆ°é˜¿é‡Œäº‘OSSï¼‰</li><li>è®¿é—®å‘˜å·¥å›¾åƒï¼ˆé€šè¿‡å›¾åƒåœ¨é˜¿é‡Œäº‘OSSçš„å­˜å‚¨åœ°å€è®¿é—®å›¾åƒï¼‰ <ul><li>OSSä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä¼šåˆ†é…ä¸€ä¸ªè®¿é—®çš„urlï¼Œé€šè¿‡è¿™ä¸ªurlå°±å¯ä»¥è®¿é—®åˆ°å­˜å‚¨åœ¨é˜¿é‡Œäº‘ä¸Šçš„å›¾ç‰‡ã€‚æ‰€ä»¥éœ€è¦æŠŠurlè¿”å›ç»™å‰ç«¯ï¼Œè¿™æ ·å‰ç«¯å°±å¯ä»¥é€šè¿‡urlè·å–åˆ°å›¾åƒã€‚</li></ul></li></ol></blockquote><p><strong>æˆ‘ä»¬å‚ç…§æ¥å£æ–‡æ¡£æ¥å¼€å‘æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼š</strong> ğŸ‘‡ ğŸ‘‡</p><ul><li><p>åŸºæœ¬ä¿¡æ¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>è¯·æ±‚è·¯å¾„ï¼š/upload</span></span>
<span class="line"><span>è¯·æ±‚æ–¹å¼ï¼šPOST</span></span>
<span class="line"><span>æ¥å£æè¿°ï¼šä¸Šä¼ å›¾ç‰‡æ¥å£</span></span></code></pre></div></li><li><p>è¯·æ±‚å‚æ•°</p><ul><li>å‚æ•°æ ¼å¼ï¼š<strong>multipart/form-data</strong></li><li>å‚æ•°è¯´æ˜ï¼š</li></ul><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>ç¤ºä¾‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>image</td><td>file</td><td>å¿…é¡»</td><td></td><td></td></tr></tbody></table></li><li><p>å“åº”æ•°æ® å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>å¿…é¡»</td><td>å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥</td></tr><tr><td>msg</td><td>string</td><td>éå¿…é¡»</td><td>æç¤ºä¿¡æ¯</td></tr><tr><td>data</td><td>object</td><td>éå¿…é¡»</td><td>è¿”å›çš„æ•°æ®ï¼Œä¸Šä¼ å›¾ç‰‡çš„è®¿é—®è·¯å¾„</td></tr></tbody></table><p>å“åº”æ•°æ®æ ·ä¾‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;code&quot;: 1,</span></span>
<span class="line"><span>    &quot;msg&quot;: &quot;success&quot;,</span></span>
<span class="line"><span>    &quot;data&quot;: &quot;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-0400.jpg&quot;</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><p><strong>å¼•å…¥é˜¿é‡Œäº‘OSSä¸Šä¼ æ–‡ä»¶å·¥å…·ç±»ï¼ˆç”±å®˜æ–¹çš„ç¤ºä¾‹ä»£ç æ”¹é€ è€Œæ¥ï¼‰</strong> ğŸ‘‡ ğŸ‘‡</p><p>ç‚¹å‡»æŸ¥çœ‹é˜¿é‡Œäº‘OSSä¸Šä¼ æ–‡ä»¶å·¥å…·ç±»ä»£ç </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>import com.aliyun.oss.OSS;</span></span>
<span class="line"><span>import com.aliyun.oss.OSSClientBuilder;</span></span>
<span class="line"><span>import org.springframework.stereotype.Component;</span></span>
<span class="line"><span>import org.springframework.web.multipart.MultipartFile;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import java.io.IOException;</span></span>
<span class="line"><span>import java.io.InputStream;</span></span>
<span class="line"><span>import java.util.UUID;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>@Component</span></span>
<span class="line"><span>public class AliOSSUtils {</span></span>
<span class="line"><span>    private String endpoint = &quot;https://oss-cn-shanghai.aliyuncs.com&quot;;</span></span>
<span class="line"><span>    private String accessKeyId = &quot;LTAI5t9MZK8iq5T2Av5GLDxX&quot;;</span></span>
<span class="line"><span>    private String accessKeySecret = &quot;C0IrHzKZGKqU8S7YQcevcotD3Zd5Tc&quot;;</span></span>
<span class="line"><span>    private String bucketName = &quot;web-framework01&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public String upload(MultipartFile multipartFile) throws IOException {</span></span>
<span class="line"><span>        // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ</span></span>
<span class="line"><span>        InputStream inputStream = multipartFile.getInputStream();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // é¿å…æ–‡ä»¶è¦†ç›–</span></span>
<span class="line"><span>        String originalFilename = multipartFile.getOriginalFilename();</span></span>
<span class="line"><span>        String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //ä¸Šä¼ æ–‡ä»¶åˆ° OSS</span></span>
<span class="line"><span>        OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret);</span></span>
<span class="line"><span>        ossClient.putObject(bucketName, fileName, inputStream);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //æ–‡ä»¶è®¿é—®è·¯å¾„</span></span>
<span class="line"><span>        String url = endpoint.split(&quot;//&quot;)[0] + &quot;//&quot; + bucketName + &quot;.&quot; + endpoint.split(&quot;//&quot;)[1] + &quot;/&quot; + fileName;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // å…³é—­ossClient</span></span>
<span class="line"><span>        ossClient.shutdown();</span></span>
<span class="line"><span>        return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å›</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p><strong>ä¿®æ”¹UploadControllerä»£ç ï¼š</strong> ğŸ‘ˆ ğŸ‘ˆ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>public class UploadController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private AliOSSUtils aliOSSUtils;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @PostMapping(&quot;/upload&quot;)</span></span>
<span class="line"><span>    public Result upload(MultipartFile image) throws IOException {</span></span>
<span class="line"><span>        //è°ƒç”¨é˜¿é‡Œäº‘OSSå·¥å…·ç±»ï¼Œå°†ä¸Šä¼ ä¸Šæ¥çš„æ–‡ä»¶å­˜å…¥é˜¿é‡Œäº‘</span></span>
<span class="line"><span>        String url = aliOSSUtils.upload(image);</span></span>
<span class="line"><span>        //å°†å›¾ç‰‡ä¸Šä¼ å®Œæˆåçš„urlè¿”å›ï¼Œç”¨äºæµè§ˆå™¨å›æ˜¾å±•ç¤º</span></span>
<span class="line"><span>        return Result.success(url);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>}</span></span></code></pre></div><p>ä½¿ç”¨postmanæµ‹è¯•ï¼š</p><p><img src="`+s+'" alt="image-20230102175353270"></p><p>ä½œä¸š</p><ol><li>ğŸš© æ³¨å†Œé˜¿é‡Œäº‘è´¦å·ï¼Œå¼€é€šOssæœåŠ¡ï¼Œå®Œæˆä¸Šè¿°æœåŠ¡ï¼Œå¹¶ä¸”èƒ½å¤Ÿä½¿ç”¨æ¸…æ™°çš„æè¿°å‡ºé›†æˆossæµç¨‹ã€‚ï¼ˆå¯ä»¥ä½¿ç”¨æµç¨‹å›¾å·¥å…·è¿›è¡Œç»˜åˆ¶ï¼‰</li></ol><h2 id="_3-ä¿®æ”¹å‘˜å·¥-ğŸš©" tabindex="-1">3. ä¿®æ”¹å‘˜å·¥ ğŸš© <a class="header-anchor" href="#_3-ä¿®æ”¹å‘˜å·¥-ğŸš©" aria-label="Permalink to &quot;3\\. ä¿®æ”¹å‘˜å·¥ ğŸš©&quot;">â€‹</a></h2><p>éœ€æ±‚</p><ol><li>ä¿®æ”¹å‘˜å·¥ä¿¡æ¯</li></ol><p><img src="'+X+'" alt="image-20220904220001994"></p><p><img src="'+a+'" alt="image-20220904220001994"></p><p>ç‚¹å‡»æŸ¥çœ‹æ­¥éª¤</p><ol><li>æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</li><li>ä¿å­˜ä¿®æ”¹çš„å‘˜å·¥ä¿¡æ¯</li></ol><h3 id="_1ï¸âƒ£3-1-æŸ¥è¯¢å›æ˜¾-âœï¸" tabindex="-1">1ï¸âƒ£3.1 æŸ¥è¯¢å›æ˜¾ âœï¸ <a class="header-anchor" href="#_1ï¸âƒ£3-1-æŸ¥è¯¢å›æ˜¾-âœï¸" aria-label="Permalink to &quot;1ï¸âƒ£3.1 æŸ¥è¯¢å›æ˜¾ âœï¸&quot;">â€‹</a></h3><p>æŸ¥è¯¢å›æ˜¾</p><h4 id="_3-1-2-å®ç°æ€è·¯" tabindex="-1">3.1.2 å®ç°æ€è·¯ <a class="header-anchor" href="#_3-1-2-å®ç°æ€è·¯" aria-label="Permalink to &quot;3.1.2 å®ç°æ€è·¯&quot;">â€‹</a></h4><p><img src="'+J+`" alt="image-20221230161841795"></p><h4 id="_3-1-1-æ¥å£æ–‡æ¡£" tabindex="-1">3.1.1 æ¥å£æ–‡æ¡£ <a class="header-anchor" href="#_3-1-1-æ¥å£æ–‡æ¡£" aria-label="Permalink to &quot;3.1.1 æ¥å£æ–‡æ¡£&quot;">â€‹</a></h4><p><a href="http://www.yangeit.cn:21010/javaweb2023/day11_api.html" target="_blank" rel="noreferrer">apiæ–‡æ¡£</a> ğŸ‘ˆ å¯ç‚¹å‡»æŸ¥çœ‹æ¥å£æ–‡æ¡£</p><p>æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥æ•°æ®</p><ul><li><p>åŸºæœ¬ä¿¡æ¯</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>è¯·æ±‚è·¯å¾„ï¼š/emps/{id}</span></span>
<span class="line"><span>è¯·æ±‚æ–¹å¼ï¼šGET</span></span>
<span class="line"><span>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ ¹æ®ä¸»é”®IDæŸ¥è¯¢å‘˜å·¥çš„ä¿¡æ¯</span></span></code></pre></div></li><li><p>è¯·æ±‚å‚æ•°</p><ul><li>å‚æ•°æ ¼å¼ï¼šè·¯å¾„å‚æ•°</li><li>å‚æ•°è¯´æ˜ï¼š</li></ul><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>id</td><td>number</td><td>å¿…é¡»</td><td>å‘˜å·¥ID</td></tr></tbody></table><ul><li>è¯·æ±‚å‚æ•°æ ·ä¾‹ï¼š</li></ul></li><li><p>å“åº”æ•°æ® å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>é»˜è®¤å€¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>å¿…é¡»</td><td></td><td>å“åº”ç , 1 æˆåŠŸ , 0 å¤±è´¥</td></tr><tr><td>msg</td><td>string</td><td>éå¿…é¡»</td><td></td><td>æç¤ºä¿¡æ¯</td></tr><tr><td>data</td><td>object</td><td>å¿…é¡»</td><td></td><td>è¿”å›çš„æ•°æ®</td></tr><tr><td></td><td>- id</td><td>number</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- username</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- name</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- password</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- entrydate</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- gender</td><td>number</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- image</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- job</td><td>number</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- deptId</td><td>number</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- createTime</td><td>string</td><td>éå¿…é¡»</td><td></td></tr><tr><td></td><td>- updateTime</td><td>string</td><td>éå¿…é¡»</td><td></td></tr></tbody></table><p>å“åº”æ•°æ®æ ·ä¾‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;code&quot;: 1,</span></span>
<span class="line"><span>  &quot;msg&quot;: &quot;success&quot;,</span></span>
<span class="line"><span>  &quot;data&quot;: {</span></span>
<span class="line"><span>    &quot;id&quot;: 2,</span></span>
<span class="line"><span>    &quot;username&quot;: &quot;zhangwuji&quot;,</span></span>
<span class="line"><span>    &quot;password&quot;: &quot;123456&quot;,</span></span>
<span class="line"><span>    &quot;name&quot;: &quot;å¼ æ— å¿Œ&quot;,</span></span>
<span class="line"><span>    &quot;gender&quot;: 1,</span></span>
<span class="line"><span>    &quot;image&quot;: &quot;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-02-00-27-53B.jpg&quot;,</span></span>
<span class="line"><span>    &quot;job&quot;: 2,</span></span>
<span class="line"><span>    &quot;entrydate&quot;: &quot;2015-01-01&quot;,</span></span>
<span class="line"><span>    &quot;deptId&quot;: 2,</span></span>
<span class="line"><span>    &quot;createTime&quot;: &quot;2022-09-01T23:06:30&quot;,</span></span>
<span class="line"><span>    &quot;updateTime&quot;: &quot;2022-09-02T00:29:04&quot;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div></li></ul><h4 id="_3-1-3-ä»£ç å®ç°" tabindex="-1">3.1.3 ä»£ç å®ç° <a class="header-anchor" href="#_3-1-3-ä»£ç å®ç°" aria-label="Permalink to &quot;3.1.3 ä»£ç å®ç°&quot;">â€‹</a></h4><ul><li>EmpController</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>@RequestMapping(&quot;/emps&quot;)</span></span>
<span class="line"><span>public class EmpController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpService empService;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //æ ¹æ®idæŸ¥è¯¢</span></span>
<span class="line"><span>    @GetMapping(&quot;/{id}&quot;)</span></span>
<span class="line"><span>    public Result getById(@PathVariable Integer id){</span></span>
<span class="line"><span>        Emp emp = empService.getById(id);</span></span>
<span class="line"><span>        return Result.success(emp);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpService</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>public interface EmpService {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥</span></span>
<span class="line"><span>     * @param id</span></span>
<span class="line"><span>     * @return</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public Emp getById(Integer id);</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpServiceImpl</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@Service</span></span>
<span class="line"><span>public class EmpServiceImpl implements EmpService {</span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpMapper empMapper;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public Emp getById(Integer id) {</span></span>
<span class="line"><span>        return empMapper.findById(id);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpMapper</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Mapper</span></span>
<span class="line"><span>public interface EmpMapper {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //æ ¹æ®IDæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></span>
<span class="line"><span>    @Select(&quot;select id, username, password, name, gender, image, job, entrydate, dept_id, create_time, update_time &quot; +</span></span>
<span class="line"><span>            &quot;from emp &quot; +</span></span>
<span class="line"><span>            &quot;where id = #{id}&quot;)</span></span>
<span class="line"><span>    public Emp findById(Integer id);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-1-4-postmanæµ‹è¯•" tabindex="-1">3.1.4 postmanæµ‹è¯• <a class="header-anchor" href="#_3-1-4-postmanæµ‹è¯•" aria-label="Permalink to &quot;3.1.4 postmanæµ‹è¯•&quot;">â€‹</a></h4><p><img src="`+L+'" alt="image-20221230170926513"></p><h3 id="_2ï¸âƒ£-3-2-ä¿®æ”¹å‘˜å·¥" tabindex="-1">2ï¸âƒ£ 3.2 ä¿®æ”¹å‘˜å·¥ <a class="header-anchor" href="#_2ï¸âƒ£-3-2-ä¿®æ”¹å‘˜å·¥" aria-label="Permalink to &quot;2ï¸âƒ£ 3.2 ä¿®æ”¹å‘˜å·¥&quot;">â€‹</a></h3><p><a href="http://www.yangeit.cn:21010/javaweb2023/day11_api.html" target="_blank" rel="noreferrer">apiæ–‡æ¡£</a> ğŸ‘ˆ å¯ç‚¹å‡»æŸ¥çœ‹æ¥å£æ–‡æ¡£</p><p>ä¿®æ”¹å‘˜å·¥</p><p><img src="'+a+'" alt=""></p><blockquote><p>å½“ç”¨æˆ·ä¿®æ”¹å®Œæ•°æ®ä¹‹åï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œå°±éœ€è¦å°†æ•°æ®æäº¤åˆ°æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯éœ€è¦å°†ä¿®æ”¹åçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚</p></blockquote><p><strong>æ€è·¯ï¼š</strong></p><p><img src="'+W+`" alt="image-20221230171342318"></p><h4 id="_3-2-1-æ¥å£æ–‡æ¡£" tabindex="-1">3.2.1 æ¥å£æ–‡æ¡£ <a class="header-anchor" href="#_3-2-1-æ¥å£æ–‡æ¡£" aria-label="Permalink to &quot;3.2.1 æ¥å£æ–‡æ¡£&quot;">â€‹</a></h4><p>ä¿®æ”¹å‘˜å·¥</p><ul><li>åŸºæœ¬ä¿¡æ¯</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>è¯·æ±‚è·¯å¾„ï¼š/emps</span></span>
<span class="line"><span>è¯·æ±‚æ–¹å¼ï¼šPUT</span></span>
<span class="line"><span>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºä¿®æ”¹å‘˜å·¥çš„æ•°æ®ä¿¡æ¯</span></span></code></pre></div><ul><li><p>è¯·æ±‚å‚æ•° å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>id</td><td>number</td><td>å¿…é¡»</td><td>id</td></tr><tr><td>username</td><td>string</td><td>å¿…é¡»</td><td>ç”¨æˆ·å</td></tr><tr><td>name</td><td>string</td><td>å¿…é¡»</td><td>å§“å</td></tr><tr><td>gender</td><td>number</td><td>å¿…é¡»</td><td>æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³</td></tr><tr><td>image</td><td>string</td><td>éå¿…é¡»</td><td>å›¾åƒ</td></tr><tr><td>deptId</td><td>number</td><td>éå¿…é¡»</td><td>éƒ¨é—¨id</td></tr><tr><td>entrydate</td><td>string</td><td>éå¿…é¡»</td><td>å…¥èŒæ—¥æœŸ</td></tr><tr><td>job</td><td>number</td><td>éå¿…é¡»</td><td>èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ</td></tr></tbody></table><p>è¯·æ±‚æ•°æ®æ ·ä¾‹ï¼š</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;id&quot;: 1,</span></span>
<span class="line"><span>  &quot;image&quot;: &quot;https://web-framework.oss-cn-hangzhou.aliyuncs.com/2022-09-03-07-37-38222.jpg&quot;,</span></span>
<span class="line"><span>  &quot;username&quot;: &quot;linpingzhi&quot;,</span></span>
<span class="line"><span>  &quot;name&quot;: &quot;æ—å¹³ä¹‹&quot;,</span></span>
<span class="line"><span>  &quot;gender&quot;: 1,</span></span>
<span class="line"><span>  &quot;job&quot;: 1,</span></span>
<span class="line"><span>  &quot;entrydate&quot;: &quot;2022-09-18&quot;,</span></span>
<span class="line"><span>  &quot;deptId&quot;: 1</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li><p>å“åº”æ•°æ® å‚æ•°æ ¼å¼ï¼šapplication/json å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…é¡»</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>å¿…é¡»</td><td>å“åº”ç ï¼Œ1 ä»£è¡¨æˆåŠŸï¼Œ0 ä»£è¡¨å¤±è´¥</td></tr><tr><td>msg</td><td>string</td><td>éå¿…é¡»</td><td>æç¤ºä¿¡æ¯</td></tr><tr><td>data</td><td>object</td><td>éå¿…é¡»</td><td>è¿”å›çš„æ•°æ®</td></tr></tbody></table><p>å“åº”æ•°æ®æ ·ä¾‹ï¼š</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;code&quot;:1,</span></span>
<span class="line"><span>    &quot;msg&quot;:&quot;success&quot;,</span></span>
<span class="line"><span>    &quot;data&quot;:null</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-2-3-ä»£ç å®ç°" tabindex="-1">3.2.3 ä»£ç å®ç° <a class="header-anchor" href="#_3-2-3-ä»£ç å®ç°" aria-label="Permalink to &quot;3.2.3 ä»£ç å®ç°&quot;">â€‹</a></h4><ul><li>EmpController</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>@RequestMapping(&quot;/emps&quot;)</span></span>
<span class="line"><span>public class EmpController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpService empService;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //ä¿®æ”¹å‘˜å·¥</span></span>
<span class="line"><span>    @PutMapping</span></span>
<span class="line"><span>    public Result update(@RequestBody Emp emp){</span></span>
<span class="line"><span>        empService.update(emp);</span></span>
<span class="line"><span>        return Result.success();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpServiceImpl</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Slf4j</span></span>
<span class="line"><span>@Service</span></span>
<span class="line"><span>public class EmpServiceImpl implements EmpService {</span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private EmpMapper empMapper;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void update(Emp emp) {</span></span>
<span class="line"><span>        emp.setUpdateTime(LocalDateTime.now()); //æ›´æ–°ä¿®æ”¹æ—¶é—´ä¸ºå½“å‰æ—¶é—´</span></span>
<span class="line"><span>        </span></span>
<span class="line"><span>        empMapper.update(emp);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpService</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>public interface EmpService {</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * æ›´æ–°å‘˜å·¥</span></span>
<span class="line"><span>     * @param emp</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public void update(Emp emp);</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpMapper</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Mapper</span></span>
<span class="line"><span>public interface EmpMapper {</span></span>
<span class="line"><span>    //ä¿®æ”¹å‘˜å·¥ä¿¡æ¯</span></span>
<span class="line"><span>    public void update(Emp emp);</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    //çœç•¥...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>EmpMapper.xml</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span>
<span class="line"><span>&lt;!DOCTYPE mapper</span></span>
<span class="line"><span>        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span>        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span></span>
<span class="line"><span>&lt;mapper namespace=&quot;com.itheima.mapper.EmpMapper&quot;&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;!--æ›´æ–°å‘˜å·¥ä¿¡æ¯--&gt;</span></span>
<span class="line"><span>    &lt;update id=&quot;update&quot;&gt;</span></span>
<span class="line"><span>        update emp</span></span>
<span class="line"><span>        &lt;set&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;username != null and username != &#39;&#39;&quot;&gt;</span></span>
<span class="line"><span>                username = #{username},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;password != null and password != &#39;&#39;&quot;&gt;</span></span>
<span class="line"><span>                password = #{password},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;name != null and name != &#39;&#39;&quot;&gt;</span></span>
<span class="line"><span>                name = #{name},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;gender != null&quot;&gt;</span></span>
<span class="line"><span>                gender = #{gender},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;image != null and image != &#39;&#39;&quot;&gt;</span></span>
<span class="line"><span>                image = #{image},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;job != null&quot;&gt;</span></span>
<span class="line"><span>                job = #{job},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;entrydate != null&quot;&gt;</span></span>
<span class="line"><span>                entrydate = #{entrydate},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;deptId != null&quot;&gt;</span></span>
<span class="line"><span>                dept_id = #{deptId},</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>            &lt;if test=&quot;updateTime != null&quot;&gt;</span></span>
<span class="line"><span>                update_time = #{updateTime}</span></span>
<span class="line"><span>            &lt;/if&gt;</span></span>
<span class="line"><span>        &lt;/set&gt;</span></span>
<span class="line"><span>        where id = #{id}</span></span>
<span class="line"><span>    &lt;/update&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;!-- çœç•¥... --&gt;</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>&lt;/mapper&gt;</span></span></code></pre></div><h2 id="_4-é…ç½®æ–‡ä»¶-ğŸ" tabindex="-1">4. é…ç½®æ–‡ä»¶ ğŸ <a class="header-anchor" href="#_4-é…ç½®æ–‡ä»¶-ğŸ" aria-label="Permalink to &quot;4\\. é…ç½®æ–‡ä»¶ ğŸ&quot;">â€‹</a></h2><p>æ¥ä¸‹æ¥ï¼Œè¿›è¡Œä»£ç ä¼˜åŒ–</p><h3 id="_1ï¸âƒ£4-1-ä¼˜åŒ–-å‚æ•°é…ç½®åŒ–" tabindex="-1">1ï¸âƒ£4.1 ä¼˜åŒ–-å‚æ•°é…ç½®åŒ– <a class="header-anchor" href="#_1ï¸âƒ£4-1-ä¼˜åŒ–-å‚æ•°é…ç½®åŒ–" aria-label="Permalink to &quot;1ï¸âƒ£4.1 ä¼˜åŒ–-å‚æ•°é…ç½®åŒ–&quot;">â€‹</a></h3><p>é—®é¢˜ï¼šå¯†é’¥å’Œèº«ä»½IDç›´æ¥åœ¨Javaä»£ç ä¸­</p><p><img src="`+G+`" alt="image-20221231085558457"></p><ul><li>endpoint //é˜¿é‡Œäº‘OSSåŸŸå</li><li>accessKeyID //ç”¨æˆ·èº«ä»½ID</li><li>accessKeySecret //ç”¨æˆ·å¯†é’¥</li><li>bucketName //å­˜å‚¨ç©ºé—´çš„åå­—</li></ul><p>ä¸Šè¿°å†™æ³•å­˜åœ¨ä¸¤ä¸ªé—®é¢˜</p><ol><li>å¦‚æœè¿™äº›å‚æ•°å‘ç”Ÿå˜åŒ–äº†ï¼Œå°±å¿…é¡»åœ¨æºç¨‹åºä»£ç ä¸­æ”¹åŠ¨è¿™äº›å‚æ•°ï¼Œç„¶åéœ€è¦<strong>é‡æ–°è¿›è¡Œä»£ç çš„ç¼–è¯‘</strong>ï¼Œå°†Javaä»£ç ç¼–è¯‘æˆclasså­—èŠ‚ç æ–‡ä»¶å†é‡æ–°è¿è¡Œç¨‹åºã€‚ï¼ˆ<strong>æ¯”è¾ƒç¹ç</strong>ï¼‰</li><li>å¦‚æœæˆ‘ä»¬å¼€å‘çš„æ˜¯ä¸€ä¸ªçœŸå®çš„ä¼ä¸šçº§é¡¹ç›®ï¼Œ <strong>Javaç±»å¯èƒ½ä¼šæœ‰å¾ˆå¤š</strong>ï¼Œå¦‚æœå°†è¿™äº›å‚æ•°åˆ†æ•£çš„å®šä¹‰åœ¨å„ä¸ªJavaç±»å½“ä¸­ï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸ªå‚æ•°å€¼ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä¼—å¤šçš„Javaä»£ç å½“ä¸­æ¥å®šä½åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå†æ¥ä¿®æ”¹å‚æ•°ï¼Œä¿®æ”¹å®Œæ¯•ä¹‹åå†é‡æ–°ç¼–è¯‘å†è¿è¡Œã€‚ï¼ˆ<em>å‚æ•°é…ç½®è¿‡äºåˆ†æ•£ï¼Œæ˜¯ä¸æ–¹ä¾¿é›†ä¸­çš„ç®¡ç†å’Œç»´æŠ¤</em>ï¼‰</li></ol><p>ç‚¹å‡»æŸ¥çœ‹æ–¹æ¡ˆ</p><h5 id="_1ï¸âƒ£-å¯ä»¥å°†å‚æ•°é…ç½®åœ¨é…ç½®æ–‡ä»¶" tabindex="-1">1ï¸âƒ£ <strong>å¯ä»¥å°†å‚æ•°é…ç½®åœ¨é…ç½®æ–‡ä»¶</strong> <a class="header-anchor" href="#_1ï¸âƒ£-å¯ä»¥å°†å‚æ•°é…ç½®åœ¨é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;1ï¸âƒ£ **å¯ä»¥å°†å‚æ•°é…ç½®åœ¨é…ç½®æ–‡ä»¶**&quot;">â€‹</a></h5><p>application.propertiesæ–‡ä»¶</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>#è‡ªå®šä¹‰çš„é˜¿é‡Œäº‘OSSé…ç½®ä¿¡æ¯</span></span>
<span class="line"><span>aliyun.oss.endpoint=https://oss-cn-hangzhou.aliyuncs.com</span></span>
<span class="line"><span>aliyun.oss.accessKeyId=LTAI4GCH1vX6DKqJWxd6nEuW</span></span>
<span class="line"><span>aliyun.oss.accessKeySecret=yBshYweHOpqDuhCArrVHwIiBKpyqSL</span></span>
<span class="line"><span>aliyun.oss.bucketName=web-tlias</span></span></code></pre></div><h5 id="_2ï¸âƒ£-å†å°†é˜¿é‡Œäº‘ossé…ç½®å‚æ•°äº¤ç»™propertiesé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¹‹å-æˆ‘ä»¬çš„aliossutilså·¥å…·ç±»å°±å˜ä¸ºä»¥ä¸‹å½¢å¼" tabindex="-1">2ï¸âƒ£ å†å°†é˜¿é‡Œäº‘OSSé…ç½®å‚æ•°äº¤ç»™propertiesé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¹‹åï¼Œæˆ‘ä»¬çš„AliOSSUtilså·¥å…·ç±»å°±å˜ä¸ºä»¥ä¸‹å½¢å¼ï¼š <a class="header-anchor" href="#_2ï¸âƒ£-å†å°†é˜¿é‡Œäº‘ossé…ç½®å‚æ•°äº¤ç»™propertiesé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¹‹å-æˆ‘ä»¬çš„aliossutilså·¥å…·ç±»å°±å˜ä¸ºä»¥ä¸‹å½¢å¼" aria-label="Permalink to &quot;2ï¸âƒ£ å†å°†é˜¿é‡Œäº‘OSSé…ç½®å‚æ•°äº¤ç»™propertiesé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¹‹åï¼Œæˆ‘ä»¬çš„AliOSSUtilså·¥å…·ç±»å°±å˜ä¸ºä»¥ä¸‹å½¢å¼ï¼š&quot;">â€‹</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Component</span></span>
<span class="line"><span>public class AliOSSUtils {</span></span>
<span class="line"><span>    /*ä»¥ä¸‹4ä¸ªå‚æ•°æ²¡æœ‰æŒ‡å®šå€¼ï¼ˆé»˜è®¤å€¼ï¼šnullï¼‰*/</span></span>
<span class="line"><span>    private String endpoint;</span></span>
<span class="line"><span>    private String accessKeyId;</span></span>
<span class="line"><span>    private String accessKeySecret;</span></span>
<span class="line"><span>    private String bucketName;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥å…¶ä»–ä»£ç ...</span></span>
<span class="line"><span>}</span></span></code></pre></div><blockquote><p>è€Œæ­¤æ—¶å¦‚æœç›´æ¥è°ƒç”¨AliOSSUtilsç±»å½“ä¸­çš„uploadæ–¹æ³•è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œè¿™4é¡¹å‚æ•°å…¨éƒ¨ä¸ºnullï¼ŒåŸå› æ˜¯å› ä¸ºå¹¶æ²¡æœ‰ç»™å®ƒèµ‹å€¼ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬æ˜¯ä¸æ˜¯éœ€è¦å°†é…ç½®æ–‡ä»¶å½“ä¸­æ‰€é…ç½®çš„å±æ€§å€¼è¯»å–å‡ºæ¥ï¼Œå¹¶åˆ†åˆ«èµ‹å€¼ç»™AliOSSUtilså·¥å…·ç±»å½“ä¸­çš„å„ä¸ªå±æ€§å‘¢ï¼Ÿé‚£åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p></blockquote><p>å› ä¸ºapplication.propertiesæ˜¯springbooté¡¹ç›®é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥springbootç¨‹åºåœ¨å¯åŠ¨æ—¶ä¼šé»˜è®¤è¯»å–application.propertiesé…ç½®æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç°æˆçš„æ³¨è§£ï¼š<code>@Value</code>ï¼Œè·å–<strong>é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®</strong>ã€‚</p><h5 id="_3ï¸âƒ£-value-æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥-å…·ä½“ç”¨æ³•ä¸º-value-é…ç½®æ–‡ä»¶ä¸­çš„key" tabindex="-1">3ï¸âƒ£ <code>@Value</code> æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥ï¼Œå…·ä½“ç”¨æ³•ä¸ºï¼š @Value(&quot;\${é…ç½®æ–‡ä»¶ä¸­çš„key}&quot;) <a class="header-anchor" href="#_3ï¸âƒ£-value-æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥-å…·ä½“ç”¨æ³•ä¸º-value-é…ç½®æ–‡ä»¶ä¸­çš„key" aria-label="Permalink to &quot;3ï¸âƒ£ \`@Value\` æ³¨è§£é€šå¸¸ç”¨äºå¤–éƒ¨é…ç½®çš„å±æ€§æ³¨å…¥ï¼Œå…·ä½“ç”¨æ³•ä¸ºï¼š @Value(&quot;\${é…ç½®æ–‡ä»¶ä¸­çš„key}&quot;)&quot;">â€‹</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Component</span></span>
<span class="line"><span>public class AliOSSUtils {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Value(&quot;\${aliyun.oss.endpoint}&quot;)</span></span>
<span class="line"><span>    private String endpoint;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    @Value(&quot;\${aliyun.oss.accessKeyId}&quot;)</span></span>
<span class="line"><span>    private String accessKeyId;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    @Value(&quot;\${aliyun.oss.accessKeySecret}&quot;)</span></span>
<span class="line"><span>    private String accessKeySecret;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    @Value(&quot;\${aliyun.oss.bucketName}&quot;)</span></span>
<span class="line"><span>    private String bucketName;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span> //çœç•¥å…¶ä»–ä»£ç ...</span></span>
<span class="line"><span> }</span></span></code></pre></div><p><img src="`+H+'" alt="image-20230102173905913"></p><p>ä½¿ç”¨postmanæµ‹è¯•ï¼š</p><p><img src="'+s+'" alt="image-20230102175353270"></p><h3 id="_2ï¸âƒ£4-2-ä¼˜åŒ–-ymlé…ç½®æ–‡ä»¶-ğŸ-â¤ï¸" tabindex="-1">2ï¸âƒ£4.2 ä¼˜åŒ–-ymlé…ç½®æ–‡ä»¶ ğŸ â¤ï¸ <a class="header-anchor" href="#_2ï¸âƒ£4-2-ä¼˜åŒ–-ymlé…ç½®æ–‡ä»¶-ğŸ-â¤ï¸" aria-label="Permalink to &quot;2ï¸âƒ£4.2 ä¼˜åŒ–-ymlé…ç½®æ–‡ä»¶ ğŸ â¤ï¸&quot;">â€‹</a></h3><p>å¸¸è§é…ç½®æ–‡ä»¶æ ¼å¼</p><blockquote><p>å‰é¢æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨springbooté¡¹ç›®åˆ›å»ºå®Œæ¯•åè‡ªå¸¦çš„application.propertiesè¿›è¡Œå±æ€§çš„é…ç½®ï¼Œé‚£å…¶å®å‘¢ï¼Œåœ¨springbooté¡¹ç›®å½“ä¸­æ˜¯æ”¯æŒå¤šç§é…ç½®æ–¹å¼çš„ï¼Œé™¤äº†æ”¯æŒpropertiesé…ç½®æ–‡ä»¶ä»¥å¤–ï¼Œè¿˜æ”¯æŒå¦å¤–ä¸€ç§ç±»å‹çš„é…ç½®æ–‡ä»¶ï¼Œå°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²è§£çš„ymlæ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚</p></blockquote><p><img src="'+Y+`" alt="image-20230102181215809"></p><p>ç‚¹å‡»æŸ¥çœ‹å¸¸è§é…ç½®æ–‡ä»¶æ ¼å¼</p><ul><li><p>application.properties</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>server.port=8080</span></span>
<span class="line"><span>server.address=127.0.0.1</span></span></code></pre></div></li><li><p>application.yml</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>server:</span></span>
<span class="line"><span>  port: 8080</span></span>
<span class="line"><span>  address: 127.0.0.1</span></span></code></pre></div></li><li><p>application.yaml</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>server:</span></span>
<span class="line"><span>  port: 8080</span></span>
<span class="line"><span>  address: 127.0.0.1</span></span></code></pre></div></li></ul><blockquote><p>yml æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œåç¼€åæœ‰ä¸¤ç§ï¼š</p><ul><li>yml ï¼ˆæ¨èï¼‰ å¼€å‘å®ç”¨</li><li>yaml</li></ul></blockquote><p>ymlæ ¼å¼çš„æ•°æ®æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å®¹æ˜“é˜…è¯»</li><li>å®¹æ˜“ä¸è„šæœ¬è¯­è¨€äº¤äº’</li><li>ä»¥æ•°æ®ä¸ºæ ¸å¿ƒï¼Œé‡æ•°æ®è½»æ ¼å¼</li></ul><p>ymlé…ç½®æ–‡ä»¶çš„åŸºæœ¬è¯­æ³•</p><ul><li>å¤§å°å†™æ•æ„Ÿ</li><li>æ•°å€¼å‰è¾¹å¿…é¡»æœ‰ç©ºæ ¼ï¼Œä½œä¸ºåˆ†éš”ç¬¦</li><li>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œç¼©è¿›æ—¶ï¼Œä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªèƒ½ç”¨ç©ºæ ¼ï¼ˆideaä¸­ä¼šè‡ªåŠ¨å°†Tabè½¬æ¢ä¸ºç©ºæ ¼ï¼‰</li><li>ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯</li><li><code>#</code>è¡¨ç¤ºæ³¨é‡Šï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥</li></ul><p><img src="`+Z+'" alt="image-20230103084645450"></p><p>propertiesæ”¹æˆymlæ ¼å¼ æ­¥éª¤</p><p>ç†Ÿæ‚‰å®Œäº†ymlæ–‡ä»¶çš„åŸºæœ¬è¯­æ³•åï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸‹ä¹‹å‰æ¡ˆä¾‹ä¸­ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå˜æ›´ä¸ºapplication.ymlé…ç½®æ–¹å¼ï¼š</p><ol><li>ä¿®æ”¹application.propertiesåå­—ä¸ºï¼š<code>_application.properties</code>ï¼ˆåå­—éšä¾¿æ›´æ¢ï¼Œåªè¦åŠ è½½ä¸åˆ°å³å¯ï¼‰</li><li>åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶ï¼š <code>application.yml</code></li></ol><p><strong>åŸæœ‰application.propertiesæ–‡ä»¶ï¼š</strong></p><p><img src="'+$+`" alt="image-20230103202630793"></p><p><strong>æ–°å»ºçš„application.ymlæ–‡ä»¶ï¼š</strong> ğŸ‘</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>spring:</span></span>
<span class="line"><span>  datasource:</span></span>
<span class="line"><span>    driver-class-name: com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span>    url: jdbc:mysql://localhost:3306/tlias</span></span>
<span class="line"><span>    username: root</span></span>
<span class="line"><span>    password: 1234</span></span>
<span class="line"><span>  servlet:</span></span>
<span class="line"><span>    multipart:</span></span>
<span class="line"><span>      max-file-size: 10MB</span></span>
<span class="line"><span>      max-request-size: 100MB</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>mybatis:</span></span>
<span class="line"><span>  configuration:</span></span>
<span class="line"><span>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span></span>
<span class="line"><span>    map-underscore-to-camel-case: true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>aliyun:</span></span>
<span class="line"><span>  oss:</span></span>
<span class="line"><span>    endpoint: https://oss-cn-hangzhou.aliyuncs.com</span></span>
<span class="line"><span>    accessKeyId: LTAI4GCH1vX6DKqJWxd6nEuW</span></span>
<span class="line"><span>    accessKeySecret: yBshYweHOpqDuhCArrVHwIiBKpyqSL</span></span>
<span class="line"><span>    bucketName: web-397</span></span></code></pre></div><h3 id="_3ï¸âƒ£4-3-configurationproperties-ğŸ" tabindex="-1">3ï¸âƒ£4.3 @ConfigurationProperties ğŸ <a class="header-anchor" href="#_3ï¸âƒ£4-3-configurationproperties-ğŸ" aria-label="Permalink to &quot;3ï¸âƒ£4.3 @ConfigurationProperties ğŸ&quot;">â€‹</a></h3><p>é—®é¢˜ï¼šå•ç‹¬ä½¿ç”¨@Valueçš„ä¸è¶³ä¹‹å¤„</p><p><img src="`+Q+'" alt="image-20230103202919756"></p><p>æˆ‘ä»¬åœ¨application.propertiesæˆ–è€…application.ymlä¸­é…ç½®äº†é˜¿é‡Œäº‘OSSçš„å››é¡¹å‚æ•°ä¹‹åï¼Œå¦‚æœjavaç¨‹åºä¸­éœ€è¦è¿™å››é¡¹å‚æ•°æ•°æ®ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡@Valueæ³¨è§£æ¥è¿›è¡Œæ³¨å…¥ã€‚è¿™ç§æ–¹å¼æœ¬èº«æ²¡æœ‰ä»€ä¹ˆé—®é¢˜é—®é¢˜ï¼Œ<strong>ä½†æ˜¯å¦‚æœè¯´éœ€è¦æ³¨å…¥çš„å±æ€§è¾ƒå¤š(ä¾‹ï¼šéœ€è¦20å¤šä¸ªå‚æ•°æ•°æ®)ï¼Œæˆ‘ä»¬å†™èµ·æ¥å°±ä¼šæ¯”è¾ƒç¹çã€‚</strong> âš ï¸</p><p>Springæä¾›çš„ç®€åŒ–æ–¹å¼ï¼š</p><ol><li><p>éœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°ç±»ï¼Œä¸”å®ä½“ç±»ä¸­çš„å±æ€§åå’Œé…ç½®æ–‡ä»¶å½“ä¸­keyçš„åå­—å¿…é¡»è¦ä¸€è‡´</p><blockquote><p>æ¯”å¦‚ï¼šé…ç½®æ–‡ä»¶å½“ä¸­å«endpointsï¼Œå®ä½“ç±»å½“ä¸­çš„å±æ€§ä¹Ÿå¾—å«endpointsï¼Œå¦å¤–å®ä½“ç±»å½“ä¸­çš„å±æ€§è¿˜éœ€è¦æä¾› getter / setteræ–¹æ³•</p></blockquote></li><li><p>éœ€è¦å°†å®ä½“ç±»äº¤ç»™Springçš„IOCå®¹å™¨ç®¡ç†ï¼Œæˆä¸ºIOCå®¹å™¨å½“ä¸­çš„beanå¯¹è±¡</p></li><li><p>åœ¨å®ä½“ç±»ä¸Šæ·»åŠ <code>@ConfigurationProperties</code>æ³¨è§£ï¼Œå¹¶é€šè¿‡perfectå±æ€§æ¥æŒ‡å®šé…ç½®å‚æ•°é¡¹çš„å‰ç¼€</p></li></ol><p><img src="'+ss+`" alt="image-20230103210827003"></p><p>1ï¸âƒ£ å®šä¹‰å®ä½“ç±»AliOSSProperties</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>import lombok.Data;</span></span>
<span class="line"><span>import org.springframework.boot.context.properties.ConfigurationProperties;</span></span>
<span class="line"><span>import org.springframework.stereotype.Component;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/*é˜¿é‡Œäº‘OSSç›¸å…³é…ç½®*/</span></span>
<span class="line"><span>@Data</span></span>
<span class="line"><span>@Component</span></span>
<span class="line"><span>@ConfigurationProperties(prefix = &quot;aliyun.oss&quot;)</span></span>
<span class="line"><span>public class AliOSSProperties {</span></span>
<span class="line"><span>    //åŒºåŸŸ</span></span>
<span class="line"><span>    private String endpoint;</span></span>
<span class="line"><span>    //èº«ä»½ID</span></span>
<span class="line"><span>    private String accessKeyId ;</span></span>
<span class="line"><span>    //èº«ä»½å¯†é’¥</span></span>
<span class="line"><span>    private String accessKeySecret ;</span></span>
<span class="line"><span>    //å­˜å‚¨ç©ºé—´</span></span>
<span class="line"><span>    private String bucketName;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>2ï¸âƒ£ ä¿®æ”¹AliOSSUtilså·¥å…·ç±»</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Component //å½“å‰ç±»å¯¹è±¡ç”±Springåˆ›å»ºå’Œç®¡ç†</span></span>
<span class="line"><span>public class AliOSSUtils {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //æ³¨å…¥é…ç½®å‚æ•°å®ä½“ç±»å¯¹è±¡</span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private AliOSSProperties aliOSSProperties;</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public String upload(MultipartFile multipartFile) throws IOException {</span></span>
<span class="line"><span>        // è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ</span></span>
<span class="line"><span>        InputStream inputStream = multipartFile.getInputStream();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // é¿å…æ–‡ä»¶è¦†ç›–</span></span>
<span class="line"><span>        String originalFilename = multipartFile.getOriginalFilename();</span></span>
<span class="line"><span>        String fileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //ä¸Šä¼ æ–‡ä»¶åˆ° OSS</span></span>
<span class="line"><span>        OSS ossClient = new OSSClientBuilder().build(aliOSSProperties.getEndpoint(),</span></span>
<span class="line"><span>                aliOSSProperties.getAccessKeyId(), aliOSSProperties.getAccessKeySecret());</span></span>
<span class="line"><span>        ossClient.putObject(aliOSSProperties.getBucketName(), fileName, inputStream);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //æ–‡ä»¶è®¿é—®è·¯å¾„</span></span>
<span class="line"><span>        String url =aliOSSProperties.getEndpoint().split(&quot;//&quot;)[0] + &quot;//&quot; + aliOSSProperties.getBucketName() + &quot;.&quot; + aliOSSProperties.getEndpoint().split(&quot;//&quot;)[1] + &quot;/&quot; + fileName;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // å…³é—­ossClient</span></span>
<span class="line"><span>        ossClient.shutdown();</span></span>
<span class="line"><span>        return url;// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å›</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>åœ¨æˆ‘ä»¬æ·»åŠ ä¸Šæ³¨è§£åï¼Œä¼šå‘ç°ideaçª—å£ä¸Šé¢å‡ºç°ä¸€ä¸ªçº¢è‰²è­¦å‘Šï¼šä¸å½±å“å¼€å‘ï¼Œäº†è§£ä¸€ä¸‹</p><p>ç‚¹å‡»æŸ¥çœ‹ä»£ç </p><p><img src="`+as+`" alt="image-20230103212042823"></p><p>è¿™ä¸ªè­¦å‘Šæç¤ºæ˜¯å‘ŠçŸ¥æˆ‘ä»¬è¿˜éœ€è¦å¼•å…¥ä¸€ä¸ªä¾èµ–ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre></div><p>å½“æˆ‘ä»¬åœ¨pom.xmlæ–‡ä»¶å½“ä¸­é…ç½®äº†è¿™é¡¹ä¾èµ–ä¹‹åï¼Œæˆ‘ä»¬é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œå¤§å®¶å°±ä¼šçœ‹åˆ°åœ¨propertiesæˆ–è€…æ˜¯ymlé…ç½®æ–‡ä»¶å½“ä¸­ï¼Œå°±ä¼šæç¤ºé˜¿é‡Œäº‘ OSS ç›¸å…³çš„é…ç½®é¡¹ã€‚æ‰€ä»¥è¿™é¡¹ä¾èµ–å®ƒçš„ä½œç”¨å°±æ˜¯ä¼šè‡ªåŠ¨çš„è¯†åˆ«è¢«<code>@Configuration Properties</code>æ³¨è§£æ ‡è¯†çš„beanå¯¹è±¡ã€‚</p><blockquote><p>åˆšæ‰çš„çº¢è‰²è­¦å‘Šï¼Œå·²ç»å˜æˆäº†ä¸€ä¸ªç°è‰²çš„æç¤ºï¼Œæç¤ºæˆ‘ä»¬éœ€è¦é‡æ–°è¿è¡ŒspringbootæœåŠ¡</p></blockquote><p>@ConfigurationPropertieså’Œ@Valueçš„åŒºåˆ«</p><ul><li><strong>ç›¸åŒç‚¹</strong>ï¼šéƒ½æ˜¯ç”¨æ¥æ³¨å…¥å¤–éƒ¨é…ç½®çš„å±æ€§çš„ã€‚</li><li><strong>ä¸åŒç‚¹</strong>ï¼š <ul><li>@Valueæ³¨è§£åªèƒ½ä¸€ä¸ªä¸€ä¸ªçš„è¿›è¡Œå¤–éƒ¨å±æ€§çš„æ³¨å…¥ã€‚</li><li>@ConfigurationPropertieså¯ä»¥æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®æ³¨å…¥åˆ°beanå¯¹è±¡çš„å±æ€§ä¸­ã€‚</li></ul></li></ul><p>å¦‚æœè¦æ³¨å…¥çš„å±æ€§éå¸¸çš„å¤šï¼Œå¹¶ä¸”è¿˜æƒ³åšåˆ°å¤ç”¨ï¼Œå°±å¯ä»¥å®šä¹‰è¿™ä¹ˆä¸€ä¸ªbeanå¯¹è±¡ ğŸ‘ğŸ‘ğŸ‘ã€‚é€šè¿‡ configuration properties æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®ç›´æ¥æ³¨å…¥åˆ° bin å¯¹è±¡çš„å±æ€§å½“ä¸­ã€‚åœ¨å…¶ä»–çš„ç±»å½“ä¸­ï¼Œæˆ‘è¦æƒ³è·å–åˆ°æ³¨å…¥è¿›æ¥çš„å±æ€§ï¼Œæˆ‘ç›´æ¥æ³¨å…¥ bin å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ get æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„å±æ€§å€¼äº†</p><h3 id="_4ï¸âƒ£4-4-ä¸‰ç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§-åŸç†-äº†è§£ä¸€ä¸‹" tabindex="-1">4ï¸âƒ£4.4 ä¸‰ç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§ åŸç†ï¼Œäº†è§£ä¸€ä¸‹ <a class="header-anchor" href="#_4ï¸âƒ£4-4-ä¸‰ç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§-åŸç†-äº†è§£ä¸€ä¸‹" aria-label="Permalink to &quot;4ï¸âƒ£4.4 ä¸‰ç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§ åŸç†ï¼Œäº†è§£ä¸€ä¸‹&quot;">â€‹</a></h3><p>ä¸‰ç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§</p><p>åœ¨SpringBooté¡¹ç›®å½“ä¸­ï¼Œå¸¸è§çš„å±æ€§é…ç½®æ–¹å¼<strong>æœ‰5ç§(3é…+2å¤–)---ä¼˜å…ˆçº§(ä»ä½åˆ°é«˜)</strong>ï¼š</p><ul><li><p>application.yamlï¼ˆå¿½ç•¥ï¼‰</p></li><li><p>application.yml ä¼ä¸šå®ç”¨</p></li><li><p>application.properties</p></li><li><p>javaç³»ç»Ÿå±æ€§ï¼ˆ-Dxxx=xxxï¼‰</p></li><li><p>å‘½ä»¤è¡Œå‚æ•°ï¼ˆ--xxx=xxxï¼‰æµ‹è¯•äººå‘˜å®ç”¨</p></li><li><p>application.properties</p></li><li><p>application.yml</p></li><li><p>application.yaml</p></li></ul><p>æˆ‘ä»¬å¯åŠ¨SpringBootç¨‹åºï¼Œæµ‹è¯•ä¸‹ä¸‰ä¸ªé…ç½®æ–‡ä»¶ä¸­å“ªä¸ªTomcatç«¯å£å·ç”Ÿæ•ˆï¼š</p><ul><li>propertiesã€yamlã€ymlä¸‰ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨</li></ul><p><img src="`+ns+'" alt="image-20230113144757856"></p><blockquote><p>propertiesã€yamlã€ymlä¸‰ç§é…ç½®æ–‡ä»¶ï¼Œä¼˜å…ˆçº§æœ€é«˜çš„æ˜¯properties</p></blockquote><ul><li>yamlã€ymlä¸¤ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨</li></ul><p><img src="'+ps+'" alt="image-20230113145158771"></p><p>åœ¨SpringBooté¡¹ç›®å½“ä¸­é™¤äº†ä»¥ä¸Š3ç§é…ç½®æ–‡ä»¶å¤–ï¼ŒSpringBootä¸ºäº†å¢å¼ºç¨‹åºçš„æ‰©å±•æ€§ï¼Œé™¤äº†æ”¯æŒé…ç½®æ–‡ä»¶çš„é…ç½®æ–¹å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒå¦å¤–ä¸¤ç§å¸¸è§çš„é…ç½®æ–¹å¼ğŸš€ ğŸš€ï¼š</p><ol><li>Javaç³»ç»Ÿå±æ€§é…ç½® ï¼ˆæ ¼å¼ï¼š -Dkey=valueï¼‰</li><li>å‘½ä»¤è¡Œå‚æ•° ï¼ˆæ ¼å¼ï¼š--key=valueï¼‰ æµ‹è¯•äººå‘˜å®ç”¨</li></ol><p>**æ€è€ƒï¼šå¦‚æœé¡¹ç›®å·²ç»æ‰“åŒ…ä¸Šçº¿äº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆå¦‚ä½•æ¥è®¾ç½®Javaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°å‘¢ï¼Ÿ**æµ‹è¯•äººå‘˜å®ç”¨</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>java -Dserver.port=9000 -jar XXXXX.jar --server.port=10010</span></span></code></pre></div><p>ä¸‹é¢æˆ‘ä»¬æ¥æ¼”ç¤ºä¸‹æ‰“åŒ…ç¨‹åºè¿è¡Œæ—¶æŒ‡å®šJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°ï¼š</p><ol><li>æ‰§è¡Œmavenæ‰“åŒ…æŒ‡ä»¤packageï¼ŒæŠŠé¡¹ç›®æ‰“æˆjaræ–‡ä»¶</li><li>ä½¿ç”¨å‘½ä»¤ï¼šjava -jar æ–¹å¼è¿è¡Œjaræ–‡ä»¶ç¨‹åº</li></ol><p>é¡¹ç›®æ‰“åŒ…ï¼š</p><p><img src="'+ts+'" alt="image-20230113172313655"></p><p><img src="'+es+'" alt="image-20230113172854016"></p><p>è¿è¡Œjarç¨‹åºï¼š</p><ul><li>åŒæ—¶è®¾ç½®Javaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°</li></ul><p><img src="'+ls+'" alt="image-20230113172659269"></p><ul><li>ä»…è®¾ç½®Javaç³»ç»Ÿå±æ€§</li></ul><p><img src="'+is+'" alt="image-20230113173228232"></p><blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>Springbooté¡¹ç›®è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œéœ€è¦å¼•å…¥æ’ä»¶ spring-boot-maven-plugin (åŸºäºå®˜ç½‘éª¨æ¶åˆ›å»ºé¡¹ç›®ï¼Œä¼šè‡ªåŠ¨æ·»åŠ è¯¥æ’ä»¶)</li></ul></blockquote><p>ç‚¹å‡»æŸ¥çœ‹ideaå½“ä¸­è¿è¡Œç¨‹åºæ—¶ï¼Œå¦‚ä½•æ¥æŒ‡å®šJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°</p><p>**é‚£åœ¨ideaå½“ä¸­è¿è¡Œç¨‹åºæ—¶ï¼Œå¦‚ä½•æ¥æŒ‡å®šJavaç³»ç»Ÿå±æ€§å’Œå‘½ä»¤è¡Œå‚æ•°å‘¢ï¼Ÿ**äº†è§£ä¸€ä¸‹</p><ul><li>ç¼–è¾‘å¯åŠ¨ç¨‹åºçš„é…ç½®ä¿¡æ¯</li></ul><p><img src="'+os+'" alt="image-20230113162746634"></p><p><img src="'+cs+'" alt="image-20230113162639630"></p><p>é‡å¯æœåŠ¡ï¼ŒåŒæ—¶é…ç½®Tomcatç«¯å£(ä¸‰ç§é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿå±æ€§ã€å‘½ä»¤è¡Œå‚æ•°)ï¼Œæµ‹è¯•å“ªä¸ªTomcatç«¯å£å·ç”Ÿæ•ˆï¼š</p><p><img src="'+rs+'" alt="image-20230113165006550"></p><p>åˆ é™¤å‘½ä»¤è¡Œå‚æ•°é…ç½®ï¼Œé‡å¯SpringBootæœåŠ¡ï¼š</p><p><img src="'+ds+`" alt="image-20230113170841253"></p><blockquote><p>ä¼˜å…ˆçº§ï¼š å‘½ä»¤è¡Œå‚æ•° &gt; ç³»ç»Ÿå±æ€§å‚æ•° &gt; propertieså‚æ•° &gt; ymlå‚æ•° &gt; yamlå‚æ•°</p></blockquote><h3 id="_5ï¸âƒ£4-5-beanç®¡ç†-åŸç†-äº†è§£ä¸€ä¸‹-ğŸ" tabindex="-1">5ï¸âƒ£4.5 Beanç®¡ç† åŸç†ï¼Œäº†è§£ä¸€ä¸‹ ğŸ <a class="header-anchor" href="#_5ï¸âƒ£4-5-beanç®¡ç†-åŸç†-äº†è§£ä¸€ä¸‹-ğŸ" aria-label="Permalink to &quot;5ï¸âƒ£4.5 Beanç®¡ç† åŸç†ï¼Œäº†è§£ä¸€ä¸‹ ğŸ&quot;">â€‹</a></h3><p>ç›®æ ‡</p><p>ä¸»è¦å­¦ä¹ IOCå®¹å™¨ä¸­Beançš„å…¶ä»–ä½¿ç”¨ç»†èŠ‚ï¼Œä¸»è¦å­¦ä¹ ä»¥ä¸‹ä¸‰æ–¹é¢ï¼š</p><ol><li>å¦‚ä½•ä»<strong>IOCå®¹å™¨</strong>ä¸­æ‰‹åŠ¨çš„è·å–åˆ°beanå¯¹è±¡</li><li>beançš„<strong>ä½œç”¨åŸŸ</strong>é…ç½®</li><li>ç®¡ç†<strong>ç¬¬ä¸‰æ–¹çš„bean</strong>å¯¹è±¡</li></ol><p>å·²ç»å­¦è¿‡çš„Springæ³¨è§£</p><ul><li>æ§åˆ¶åè½¬(IOC) <ul><li>@Component <ul><li>@Controller</li><li>@Service</li><li>@Repository</li></ul></li></ul></li><li>ä¾èµ–æ³¨å…¥(DI) <ul><li>@Autowired</li></ul></li></ul><p><strong>ä»£ç æ¼”ç¤º</strong> ğŸ‘‡ ğŸ‘‡</p><p>ç›¸å…³ä¿¡æ¯</p><ol><li>æƒ³è·å–åˆ°IOCå®¹å™¨ï¼Œç›´æ¥å°†IOCå®¹å™¨å¯¹è±¡ApplicationContextæ³¨å…¥è¿›æ¥,</li><li>è€Œåœ¨Springå®¹å™¨ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥ä¸»åŠ¨ä»IOCå®¹å™¨ï¼ˆApplicationContextï¼‰ä¸­è·å–åˆ°beanå¯¹è±¡ï¼Œ</li><li>ä¸‹é¢ä»‹ç»3ç§å¸¸ç”¨æ–¹å¼ï¼š <ul><li>æ ¹æ®nameè·å–bean --<code>Object getBean(String name)</code></li><li>æ ¹æ®ç±»å‹è·å–bean --<code>&lt;T&gt; T getBean(Class&lt;T&gt; requiredType)</code></li><li>æ ¹æ®nameè·å–beanï¼ˆå¸¦ç±»å‹è½¬æ¢ï¼‰--<code>&lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType)</code></li></ul></li></ol><p>æµ‹è¯•ç±»ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@SpringBootTest</span></span>
<span class="line"><span>class SpringbootWebConfig2ApplicationTests {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private ApplicationContext applicationContext; //IOCå®¹å™¨å¯¹è±¡</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //è·å–beanå¯¹è±¡</span></span>
<span class="line"><span>    @Test</span></span>
<span class="line"><span>    public void testGetBean(){</span></span>
<span class="line"><span>        //æ ¹æ®beançš„åç§°è·å–</span></span>
<span class="line"><span>        DeptController bean1 = (DeptController) applicationContext.getBean(&quot;deptController&quot;);</span></span>
<span class="line"><span>        System.out.println(bean1);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //æ ¹æ®beançš„ç±»å‹è·å–</span></span>
<span class="line"><span>        DeptController bean2 = applicationContext.getBean(DeptController.class);</span></span>
<span class="line"><span>        System.out.println(bean2);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //æ ¹æ®beançš„åç§° åŠ ç±»å‹è·å–</span></span>
<span class="line"><span>        DeptController bean3 = applicationContext.getBean(&quot;deptController&quot;, DeptController.class);</span></span>
<span class="line"><span>        System.out.println(bean3);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>ç¨‹åºè¿è¡Œåæ§åˆ¶å°æ—¥å¿—ï¼š</p><p><img src="`+us+'" alt="image-20230113211619818"></p><blockquote><p>é—®é¢˜ï¼šè¾“å‡ºçš„beanå¯¹è±¡åœ°å€å€¼æ˜¯ä¸€æ ·çš„ï¼Œè¯´æ˜IOCå®¹å™¨å½“ä¸­çš„beanå¯¹è±¡æœ‰å‡ ä¸ªï¼Ÿ</p><p>ç­”æ¡ˆï¼šåªæœ‰ä¸€ä¸ªã€‚ ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒIOCä¸­çš„beanå¯¹è±¡æ˜¯å•ä¾‹ï¼‰</p><p>é‚£ä¹ˆèƒ½ä¸èƒ½å°†beanå¯¹è±¡è®¾ç½®ä¸ºéå•ä¾‹çš„(æ¯æ¬¡è·å–çš„beanéƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡)ï¼Ÿ</p><p>å¯ä»¥ï¼Œåœ¨ä¸‹ä¸€ä¸ªçŸ¥è¯†ç‚¹(beanä½œç”¨åŸŸ)ä¸­è®²è§£ã€‚</p></blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ä¸Šè¿°æ‰€è¯´çš„ ã€Springé¡¹ç›®å¯åŠ¨æ—¶ï¼Œä¼šæŠŠå…¶ä¸­çš„beanéƒ½åˆ›å»ºå¥½ã€‘è¿˜ä¼šå—åˆ°ä½œç”¨åŸŸåŠå»¶è¿Ÿåˆå§‹åŒ–å½±å“ï¼Œè¿™é‡Œä¸»è¦é’ˆå¯¹äºé»˜è®¤çš„å•ä¾‹éå»¶è¿ŸåŠ è½½çš„beanè€Œè¨€ã€‚</li></ul><p>åœ¨å‰é¢æˆ‘ä»¬æåˆ°çš„IOCå®¹å™¨å½“ä¸­ï¼Œé»˜è®¤beanå¯¹è±¡æ˜¯<strong>å•ä¾‹æ¨¡å¼(åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡)</strong>ã€‚é‚£ä¹ˆå¦‚ä½•è®¾ç½®beanå¯¹è±¡ä¸ºéå•ä¾‹å‘¢ï¼Ÿéœ€è¦è®¾ç½®beançš„ä½œç”¨åŸŸã€‚</p><p><strong>åœ¨Springä¸­æ”¯æŒäº”ç§ä½œç”¨åŸŸï¼Œåä¸‰ç§åœ¨webç¯å¢ƒæ‰ç”Ÿæ•ˆï¼š</strong></p><table><thead><tr><th><strong>ä½œç”¨åŸŸ</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>singletoné»˜è®¤</td><td>å®¹å™¨å†…åŒåç§°çš„beanåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹ï¼‰ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>prototype å¤šä¾‹</td><td>æ¯æ¬¡ä½¿ç”¨è¯¥beanæ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆéå•ä¾‹ï¼‰</td></tr><tr><td>requestwebç¯å¢ƒä¸­ï¼Œäº†è§£</td><td>æ¯ä¸ªè¯·æ±‚èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹</td></tr><tr><td>sessionwebç¯å¢ƒä¸­ï¼Œäº†è§£</td><td>æ¯ä¸ªä¼šè¯èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹</td></tr><tr><td>applicationwebç¯å¢ƒä¸­ï¼Œäº†è§£</td><td>æ¯ä¸ªåº”ç”¨èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹</td></tr></tbody></table><p><strong>è®¾ç½®ä½œç”¨åŸŸçš„æ­¥é„¹ï¼š</strong> ğŸ‘‡ ğŸ‘‡</p><ul><li>å¯ä»¥å€ŸåŠ©Springä¸­çš„@Scopeæ³¨è§£æ¥è¿›è¡Œé…ç½®ä½œç”¨åŸŸ</li></ul><p><img src="'+gs+`" alt="image-20230113214244144"></p><p><strong>1). æµ‹è¯•ä¸€</strong></p><p>ç‚¹å‡»æŸ¥çœ‹è®¾ç½®å•ä¾‹ å’Œæ‡’åŠ è½½ æ­¥é„¹</p><ul><li>æ§åˆ¶å™¨</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>//é»˜è®¤beançš„ä½œç”¨åŸŸä¸ºï¼šsingleton (å•ä¾‹)</span></span>
<span class="line"><span>@Lazy //å»¶è¿ŸåŠ è½½ï¼ˆç¬¬ä¸€æ¬¡ä½¿ç”¨beanå¯¹è±¡æ—¶ï¼Œæ‰ä¼šåˆ›å»ºbeanå¯¹è±¡å¹¶äº¤ç»™iocå®¹å™¨ç®¡ç†ï¼‰</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>@RequestMapping(&quot;/depts&quot;)</span></span>
<span class="line"><span>public class DeptController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private DeptService deptService;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public DeptController(){</span></span>
<span class="line"><span>        System.out.println(&quot;DeptController constructor ....&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥å…¶ä»–ä»£ç ...</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>æµ‹è¯•ç±»</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@SpringBootTest</span></span>
<span class="line"><span>class SpringbootWebConfig2ApplicationTests {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private ApplicationContext applicationContext; //IOCå®¹å™¨å¯¹è±¡</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //beançš„ä½œç”¨åŸŸ</span></span>
<span class="line"><span>    @Test</span></span>
<span class="line"><span>    public void testScope(){</span></span>
<span class="line"><span>        for (int i = 0; i &lt; 10; i++) {</span></span>
<span class="line"><span>            DeptController deptController = applicationContext.getBean(DeptController.class);</span></span>
<span class="line"><span>            System.out.println(deptController);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>é‡å¯SpringBootæœåŠ¡ï¼Œè¿è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ‰“å°çš„æ—¥å¿—ï¼š</p><p><img src="`+ms+`" alt="image-20230114001348839"></p><blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>IOCå®¹å™¨ä¸­çš„beané»˜è®¤ä½¿ç”¨çš„ä½œç”¨åŸŸï¼šsingleton (å•ä¾‹)</p></li><li><p>é»˜è®¤singletonçš„beanï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶è¢«åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨@Lazyæ³¨è§£æ¥å»¶è¿Ÿåˆå§‹åŒ–(å»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶)</p></li></ul></blockquote><p><strong>2). æµ‹è¯•äºŒ</strong></p><p>ç‚¹å‡»æŸ¥çœ‹éå•ä¾‹ å®ç°</p><p>ä¿®æ”¹æ§åˆ¶å™¨DeptControllerä»£ç ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Scope(&quot;prototype&quot;) //beanä½œç”¨åŸŸä¸ºéå•ä¾‹</span></span>
<span class="line"><span>@Lazy //å»¶è¿ŸåŠ è½½</span></span>
<span class="line"><span>@RestController</span></span>
<span class="line"><span>@RequestMapping(&quot;/depts&quot;)</span></span>
<span class="line"><span>public class DeptController {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Autowired</span></span>
<span class="line"><span>    private DeptService deptService;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public DeptController(){</span></span>
<span class="line"><span>        System.out.println(&quot;DeptController constructor ....&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //çœç•¥å…¶ä»–ä»£ç ...</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>é‡å¯SpringBootæœåŠ¡ï¼Œå†æ¬¡æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å§æ‰“å°çš„æ—¥å¿—ï¼š</p><p><img src="`+hs+`" alt="image-20230114001736151"></p><p>æŠ€å·§</p><ul><li>prototypeçš„beanï¼Œæ¯ä¸€æ¬¡ä½¿ç”¨è¯¥beançš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹</li><li>å®é™…å¼€å‘å½“ä¸­ï¼Œ<strong>ç»å¤§éƒ¨åˆ†çš„Beanæ˜¯å•ä¾‹çš„</strong>å•èº«dogï¼Œä¹Ÿå°±æ˜¯è¯´ç»å¤§éƒ¨åˆ†Beanä¸éœ€è¦é…ç½®scopeå±æ€§</li></ul><ol><li>JaråŒ…ä¸­çš„ç±»(ä¸èƒ½åœ¨ç±»åä¸ŠåŠ æ³¨è§£)ï¼Œæ€æ ·å°†è¿™äº›ç±»çš„å¯¹è±¡äº¤ç»™IOCç®¡ç†å°¼ï¼Ÿ</li></ol><p>ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</p><p>æˆ‘ä»¬æ‰€é…ç½®çš„beanï¼Œåƒcontrollerã€serviceï¼Œdaoä¸‰å±‚ä½“ç³»ä¸‹ç¼–å†™çš„ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®å½“ä¸­<strong>è‡ªå·±å®šä¹‰çš„ç±»(è‡ªå®šä¹‰ç±»)</strong>ã€‚å½“æˆ‘ä»¬è¦å£°æ˜è¿™äº›beanï¼Œä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç±»ä¸ŠåŠ ä¸Š@Componentä»¥åŠå®ƒçš„è¿™ä¸‰ä¸ªè¡ç”Ÿ<strong>æ³¨è§£</strong>ï¼ˆ@Controllerã€@Serviceã€@Repositoryï¼‰ï¼Œå°±å¯ä»¥æ¥å£°æ˜è¿™ä¸ªbeanå¯¹è±¡äº†ã€‚</p><p>å¦‚æœè¦ç®¡ç†çš„beanå¯¹è±¡æ¥è‡ªäºç¬¬ä¸‰æ–¹ï¼ˆä¸æ˜¯è‡ªå®šä¹‰çš„,å¦‚jaråŒ…ä¸­çš„ç±»ï¼‰ï¼Œæ˜¯æ— æ³•ç”¨@Component åŠè¡ç”Ÿæ³¨è§£å£°æ˜beançš„ï¼Œå°±éœ€è¦ç”¨åˆ° <strong>@Bean</strong> æ³¨è§£ã€‚</p><p><strong>æµ‹è¯•ç¨‹åº</strong> ğŸ‘‡ ğŸ‘‡</p><p>ç‚¹å‡»æŸ¥çœ‹æµ‹è¯•ç¨‹åºä»£ç </p><p>ç¬¬ä¸€æ­¥ï¼šåœ¨pom.xmlæ–‡ä»¶ä¸­ï¼Œå¼•å…¥dom4jï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>&lt;!--Dom4j--&gt;</span></span>
<span class="line"><span>&lt;dependency&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;org.dom4j&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;</span></span>
<span class="line"><span>    &lt;version&gt;2.1.3&lt;/version&gt;</span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre></div><blockquote><p>dom4jå°±æ˜¯ç¬¬ä¸‰æ–¹ç»„ç»‡æä¾›çš„ã€‚ dom4jä¸­çš„SAXReaderç±»å°±æ˜¯ç¬¬ä¸‰æ–¹ç¼–å†™çš„ã€‚</p></blockquote><p>æ€è€ƒï¼šå½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°SAXReaderå¯¹è±¡æ—¶ï¼Œç›´æ¥è¿›è¡Œä¾èµ–æ³¨å…¥æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†å‘¢ï¼Ÿ</p><ul><li>æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„åšæ³•ï¼Œéœ€è¦åœ¨SAXReaderç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£@Componentï¼ˆå°†å½“å‰ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼‰</li></ul><p><img src="`+bs+`" alt="image-20230114003903285"></p><blockquote><p>ç»“è®ºï¼šç¬¬ä¸‰æ–¹æä¾›çš„ç±»æ˜¯åªè¯»çš„ ã€‚æ— æ³•åœ¨ç¬¬ä¸‰æ–¹ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£æˆ–è¡ç”Ÿæ³¨è§£ã€‚</p></blockquote><p><strong>è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨é…ç½®ç±»ä¸­å®šä¹‰@Beanæ ‡è¯†çš„æ–¹æ³•</strong> ä¼ä¸šå®ç”¨</p><ul><li>å¦‚æœéœ€è¦å®šä¹‰ç¬¬ä¸‰æ–¹Beanæ—¶ï¼Œ é€šå¸¸ä¼šå•ç‹¬å®šä¹‰ä¸€ä¸ªé…ç½®ç±»</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>@Configuration //é…ç½®ç±»  (åœ¨é…ç½®ç±»å½“ä¸­å¯¹ç¬¬ä¸‰æ–¹beanè¿›è¡Œé›†ä¸­çš„é…ç½®ç®¡ç†)</span></span>
<span class="line"><span>public class CommonConfig {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //å£°æ˜ç¬¬ä¸‰æ–¹bean</span></span>
<span class="line"><span>    @Bean //å°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†, æˆä¸ºIOCå®¹å™¨bean</span></span>
<span class="line"><span>          //é€šè¿‡@Beanæ³¨è§£çš„name/valueå±æ€§æŒ‡å®šbeanåç§°, å¦‚æœæœªæŒ‡å®š, é»˜è®¤æ˜¯æ–¹æ³•å</span></span>
<span class="line"><span>    public SAXReader reader(DeptService deptService){</span></span>
<span class="line"><span>        System.out.println(deptService);</span></span>
<span class="line"><span>        return new SAXReader();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æ³¨é‡Šæ‰SpringBootå¯åŠ¨ç±»ä¸­åˆ›å»ºç¬¬ä¸‰æ–¹beanå¯¹è±¡çš„ä»£ç ï¼Œé‡å¯æœåŠ¡ï¼Œæ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š</p><p>åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šä¸€ä¸ª@Beanæ³¨è§£ï¼ŒSpring å®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨çš„è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶å°†æ–¹æ³•çš„è¿”å›å€¼å£°æ˜ä¸ºSpringå®¹å™¨å½“ä¸­çš„Beanå¯¹è±¡ã€‚</p><p>æŠ€å·§</p><p>æ³¨æ„äº‹é¡¹ ï¼š</p><ul><li>é€šè¿‡ <strong>@Bean</strong> æ³¨è§£çš„nameæˆ–valueå±æ€§å¯ä»¥å£°æ˜beançš„åç§°ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œ<strong>é»˜è®¤beançš„åç§°å°±æ˜¯æ–¹æ³•å</strong>ã€‚</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>    //@Bean é»˜è®¤åå­— saxReader</span></span>
<span class="line"><span>    //@Bean(&quot;sax&quot;) æŒ‡å®šåå­— sax</span></span>
<span class="line"><span>    public SAXReader saxReader(){</span></span>
<span class="line"><span>        return new SAXReader();</span></span>
<span class="line"><span>    }</span></span></code></pre></div><ul><li>å¦‚æœç¬¬ä¸‰æ–¹beanéœ€è¦ä¾èµ–å…¶å®ƒbeanå¯¹è±¡ï¼Œç›´æ¥åœ¨beanå®šä¹‰æ–¹æ³•ä¸­è®¾ç½®å½¢å‚å³å¯ï¼Œå®¹å™¨ä¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…ã€‚</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span>    @Bean é»˜è®¤åå­— saxReader</span></span>
<span class="line"><span>    public SAXReader saxReader(Brand brand){ //å¦‚æœå®¹å™¨ä¸­æœ‰Brandå¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è£…é…</span></span>
<span class="line"><span>        return new SAXReader();</span></span>
<span class="line"><span>    }</span></span></code></pre></div><p>å…³äºBeanå¤§å®¶åªéœ€è¦ä¿æŒä¸€ä¸ªåŸåˆ™ï¼š</p><ul><li><p>å¦‚æœæ˜¯åœ¨é¡¹ç›®å½“ä¸­æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±»ï¼Œæƒ³å°†è¿™äº›ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ <strong>@Component</strong> ä»¥åŠå®ƒçš„è¡ç”Ÿæ³¨è§£æ¥å£°æ˜å°±å¯ä»¥ã€‚</p></li><li><p>å¦‚æœè¿™ä¸ªç±»å®ƒä¸æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ï¼Œè€Œæ˜¯å¼•å…¥çš„ç¬¬ä¸‰æ–¹ä¾èµ–å½“ä¸­æä¾›çš„ç±»ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜æƒ³å°†è¿™ä¸ªç±»äº¤ç»™IOCå®¹å™¨ç®¡ç†ã€‚æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦åœ¨é…ç½®ç±»ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šä¸€ä¸ª <strong>@Bean</strong> æ³¨è§£ï¼Œ<strong>é€šè¿‡è¿™ç§æ–¹å¼æ¥å£°æ˜ç¬¬ä¸‰æ–¹çš„beanå¯¹è±¡ã€‚</strong></p></li></ul>`,386),Ss=[vs];function ys(Cs,ks,_s,fs,Is,Os){return t(),p("div",null,Ss)}const xs=n(qs,[["render",ys]]);export{Bs as __pageData,xs as default};
