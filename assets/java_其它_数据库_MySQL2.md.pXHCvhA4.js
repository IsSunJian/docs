import{_ as s,c as i,o as a,a4 as h}from"./chunks/framework.-JfgED0h.js";const E=JSON.parse('{"title":"MySQL 指令","description":"","frontmatter":{},"headers":[],"relativePath":"java/其它/数据库/MySQL2.md","filePath":"java/其它/数据库/MySQL2.md"}'),n={name:"java/其它/数据库/MySQL2.md"},k=h(`<h1 id="mysql-指令" tabindex="-1">MySQL 指令 <a class="header-anchor" href="#mysql-指令" aria-label="Permalink to &quot;MySQL 指令&quot;">​</a></h1><hr><h2 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h2><h3 id="sql-指令" tabindex="-1">SQL 指令 <a class="header-anchor" href="#sql-指令" aria-label="Permalink to &quot;SQL 指令&quot;">​</a></h3><p>SQL 指令是用于访问和处理数据库的标准的计算机语言。对于 MySQL 等常用数据库都可以通过使用 SQL 访问和处理数据系统中的数据。</p><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ol><li>SQL 对大小写不敏感。</li><li>标识符应避免与关键字重名！可用反引号（\`）为标识符包裹。</li><li>注释 <ul><li>单行注释： <code># 注释内容</code></li><li>多行注释： <code>/* 注释内容 */</code></li><li>单行注释： <code>-- 注释内容</code></li></ul></li><li>模式通配符 <ul><li>匹配任意单个字符： <code>_</code></li><li>匹配任意数量字符，包括 0 个：<code>%</code></li><li>单引号需要进行转义： <code>\\&#39;</code></li></ul></li><li>清除已有语句：<code>\\c</code></li></ol><hr><h2 id="服务指令" tabindex="-1">服务指令 <a class="header-anchor" href="#服务指令" aria-label="Permalink to &quot;服务指令&quot;">​</a></h2><h3 id="启动-终止服务" tabindex="-1">启动/终止服务 <a class="header-anchor" href="#启动-终止服务" aria-label="Permalink to &quot;启动/终止服务&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">net</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> mysql</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">           # 启动本机 MySQL 运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">net</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> mysql</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">            # 终止本机 MySQL 运行</span></span></code></pre></div><h3 id="连接-断开服务" tabindex="-1">连接/断开服务 <a class="header-anchor" href="#连接-断开服务" aria-label="Permalink to &quot;连接/断开服务&quot;">​</a></h3><p>MySQL 服务运行时，输入连接指令即可连接 MySQL 数据库。</p><p>需要输入的属性分别为 (h)IP 地址、(P)端口号、(u)用户名、(p)密码。 端口号若为 3306 可省略，密码可空缺。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;"># 本地连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> localhost</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;"># 远程连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -h</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 10.0.0.51</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -P</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 3306</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 123456</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;"># 断开连接</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">mysql&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">mysql&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> quit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#62E884;">mysql&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;"> /p</span></span></code></pre></div><hr><h2 id="管理指令" tabindex="-1">管理指令 <a class="header-anchor" href="#管理指令" aria-label="Permalink to &quot;管理指令&quot;">​</a></h2><h3 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h3><p>MySQL 数据库的全部用户信息保存在 <code>mysql 库 / user 表</code>内，用户含有以下属性：</p><ul><li><strong>user 属性</strong>：用户名</li><li><strong>host 属性</strong>：允许用户登入的网络</li><li><strong>authentication_string 属性</strong>：密码</li></ul><h4 id="增删改查" tabindex="-1">增删改查 <a class="header-anchor" href="#增删改查" aria-label="Permalink to &quot;增删改查&quot;">​</a></h4><p>能够对用户进行增删改查操作，需要当前用户拥有非常高的数据库权限。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 增加用户(CREATE)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> USER </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;                </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建用户 boy 允许从本地网络登录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> USER </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">girl</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">10.0.0.%</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">123456</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建用户 girl 允许从特定网络登录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除用户(DROP)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> USER </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">girl</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">10.0.0.%</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改用户(ALTER)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> USER </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">123456</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 重命名用户(RENAME)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> RENAME USER </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TO</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">man</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 设置密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">123456</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);                              </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 为当前用户设置密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FOR</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">123456</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);        </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 为指定用户设置密码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询全部用户信息(DESC/SELECT)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DESC</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;                                            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> user,host,authentication_string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">user</span></span></code></pre></div><h4 id="权限管理" tabindex="-1">权限管理 <a class="header-anchor" href="#权限管理" aria-label="Permalink to &quot;权限管理&quot;">​</a></h4><p>用户权限分为非常多种，包括全局权限、库权限、表权限、列权限等。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 赋予权限(GRANT)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INSERT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">*</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">             -- 赋予用户选择插入权限（所有库的所有表）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TO</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">                   -- 不存在将新建用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">123456</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">                 </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WITH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> OPTION</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- （可选）允许用户转授权限</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 撤消权限(REVOKE)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> REVOKE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INSERT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">boy</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看权限</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> Host,User,Select_priv,Grant_priv</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">user</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">testUser</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><h3 id="数据库管理" tabindex="-1">数据库管理 <a class="header-anchor" href="#数据库管理" aria-label="Permalink to &quot;数据库管理&quot;">​</a></h3><p>MySQL 内划分为多个互相独立的数据存储区域，调用数据库指令时必须提前声明要使用的数据库。</p><ul><li><strong>数据库选项信息</strong></li></ul><table><thead><tr><th>属性</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>CHARACTER SET</td><td>编码方式</td><td>默认为 utf8mb4</td></tr><tr><td>COLLATE</td><td>校对规则</td><td>默认为 utf8mb4_general_ci</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看所有数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW DATABASES;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 进入/切换数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> USE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> mydb;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看当前数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [IF NOT EXISTS] mydb;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [IF NOT EXISTS] mydb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CHARACTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> utf8mb4;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [IF EXISTS] mydb;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看数据库选项信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> mydb;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改数据库选项信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> mydb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CHARACTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> utf8;</span></span></code></pre></div><h3 id="表管理" tabindex="-1">表管理 <a class="header-anchor" href="#表管理" aria-label="Permalink to &quot;表管理&quot;">​</a></h3><ul><li><strong>表属性</strong></li></ul><table><thead><tr><th>属性</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>CHARSET</td><td>字符集</td><td>默认使用数据库字符集</td></tr><tr><td>ENGINE</td><td>存储引擎</td><td>默认为 InnoDB</td></tr><tr><td>DATA DIRECTORY</td><td>数据文件目录</td><td></td></tr><tr><td>INDEX DIRECTORY</td><td>索引文件目录</td><td></td></tr><tr><td>COMMENT</td><td>表注释</td><td></td></tr></tbody></table><p><em>如果表标记为 TEMPORARY 则为临时表，在连接断开时表会消失。</em></p><ul><li><strong>列属性</strong></li></ul><table><thead><tr><th>属性</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>PRIMARY KEY</td><td>主键</td><td>标识记录的字段。可以为字段组合，不能为空且不能重复。</td></tr><tr><td>INDEX</td><td>普通索引</td><td>可以为字段组合，建立普通索引。</td></tr><tr><td>UNIQUE</td><td>唯一索引</td><td>可以为字段组合，不能重复，建立唯一索引。</td></tr><tr><td>NOT NULL</td><td>非空</td><td>（推荐）不允许字段值为空。</td></tr><tr><td>DEFAULT</td><td>默认值</td><td>设置当前字段的默认值。</td></tr><tr><td>AUTO_INCREMENt</td><td>自动增长</td><td>字段无需赋值，从指定值（默认 1）开始自动增长。表内只能存在一个且必须为索引。</td></tr><tr><td>COMMENT</td><td>注释</td><td>字段备注信息。</td></tr><tr><td>FOREIGN KEY</td><td>外键</td><td>该字段关联到其他表的主键。默认建立普通索引。</td></tr></tbody></table><h4 id="表操作" tabindex="-1">表操作 <a class="header-anchor" href="#表操作" aria-label="Permalink to &quot;表操作&quot;">​</a></h4><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看所有表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW TABLES;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [TEMPORARY] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [IF NOT EXISTS] student</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">       (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> AUTO_INCREMENT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">20190001</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">           name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           sex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> COMMENT </span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">Male 1，Female 0</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           access_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DEFAULT</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> GETDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           major_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FOREIGN KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> REFERENCES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> major(id) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">       )ENGINE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">InnoDB;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> grade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">       (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           student_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           course_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">           grade </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">           PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (student_id,course_id),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">           CONSTRAINT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> fk_grade_student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FOREIGN KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (student_id) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">REFERENCES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student(id),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">           CONSTRAINT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> fk_grade_course </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FOREIGN KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (course_id) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">REFERENCES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> course(id)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">       );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [IF EXISTS] student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 清空表数据（直接删除表，再重新创建）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TRUNCATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [TABLE] student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看表结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改表属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student ENGINE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">MYISAM;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 重命名表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> RENAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> new_student;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> RENAME </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TO</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> mydb</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">new_student</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;      </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 复制表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> new_student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">LIKE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 复制表结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> new_student [AS] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 复制表结构和数据</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 检查表是否有错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CHECK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tbl_name [, tbl_name] ... [option] ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 优化表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tbl_name [, tbl_name] ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修复表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> REPAIR [LOCAL | NO_WRITE_TO_BINLOG] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tbl_name [, tbl_name] ... [QUICK] [EXTENDED] [USE_FRM]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 分析表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tbl_name [, tbl_name] ...</span></span></code></pre></div><h4 id="列操作" tabindex="-1">列操作 <a class="header-anchor" href="#列操作" aria-label="Permalink to &quot;列操作&quot;">​</a></h4><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 添加字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [COLUMN] age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;               </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 默认添加在最后一行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [COLUMN] age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> AFTER</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> sex;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 添加在指定字段后</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [COLUMN] age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FIRST</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;         </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 添加在第一行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">--修改字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">MODIFY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [COLUMN] id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SMALLINT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;        </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改字段属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student CHANGE [COLUMN] id new_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改字段名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DROP</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [COLUMN] age;   </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 编辑主键</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(id,age);           </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;                 </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 编辑外键</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CONSTRAINT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> fk_student_class </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FOREIGN KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(cid) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">REFERENCES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class(id);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FOREIGN KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> fk_student_class;</span></span></code></pre></div><hr><h2 id="数据指令" tabindex="-1">数据指令 <a class="header-anchor" href="#数据指令" aria-label="Permalink to &quot;数据指令&quot;">​</a></h2><h3 id="增删改查-1" tabindex="-1">增删改查 <a class="header-anchor" href="#增删改查-1" aria-label="Permalink to &quot;增删改查&quot;">​</a></h3><p><strong>插入数据</strong>，如果已有主键值则插入数据失败。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (ID,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,grade)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">755</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">王东浩</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span></code></pre></div><p><strong>插入并替换数据</strong>，如果已有主键值则先删除再插入。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> REPLACE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (ID,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,grade)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">755</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">王东浩</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span></code></pre></div><p><strong>更新数据</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> name=</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">孙鹏</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,grade</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">60</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">753</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><p><strong>删除数据</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">754</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><p><strong>查询数据</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student               </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 按条件查询数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BETWEEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 753</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 755</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询全部数据</span></span></code></pre></div><h4 id="条件语句" tabindex="-1">条件语句 <a class="header-anchor" href="#条件语句" aria-label="Permalink to &quot;条件语句&quot;">​</a></h4><ul><li>DISTINCT 关键字用于对查询结果去重，必须放于所有字段前。只有多个字段全部相等才会被去重。</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> DINTINCE age,sex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询数据并去重</span></span></code></pre></div><ul><li>WHERE 语句用于指定 更新/删除/查询 的操作范围，如果不设定范围将对全部数据进行操作。</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id [NOT] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">BETWEEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 30</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id [NOT] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">IN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">35</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> ,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> grade </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">IS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [NOT] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><ul><li>LIKE 语句用于对字符串进行模糊匹配：<code>%</code>代表任意多个字符 <code>_</code>代表一个字符 <code>/</code>代表转义</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">Tom%</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><h3 id="分组排序" tabindex="-1">分组排序 <a class="header-anchor" href="#分组排序" aria-label="Permalink to &quot;分组排序&quot;">​</a></h3><h4 id="数据分组" tabindex="-1">数据分组 <a class="header-anchor" href="#数据分组" aria-label="Permalink to &quot;数据分组&quot;">​</a></h4><table><thead><tr><th>分组函数</th><th>功能</th></tr></thead><tbody><tr><td>count</td><td>个数</td></tr><tr><td>sum</td><td>总和</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>求平均值</td></tr><tr><td>group_concat</td><td>组内字符串拼接</td></tr></tbody></table><ol><li>GROUP 语句指定数据的分组方式，如果不含则默认把全部数据合并为一条数据。（本质是生成临时表）</li><li>AS 关键字为表或者列起别名，可省略。</li><li>HAVING 语句对分组后的结果进行筛选。</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询班级总数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class;                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 全部合并</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询各年级人数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> grade, </span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;">SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">student_num</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> nums </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> grade                                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 各班数据按年级合并</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> HAVING</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">student_num</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;           </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 筛选人数大于 200 的年级</span></span></code></pre></div><h4 id="数据排序" tabindex="-1">数据排序 <a class="header-anchor" href="#数据排序" aria-label="Permalink to &quot;数据排序&quot;">​</a></h4><ul><li>ORDER 语句指定数据显示顺序，ASC 为升序 / DESC 为降序。</li><li>LIMIT 语句对排序后的数据进行筛选，指定起始序号和总数量。</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询学生信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> grade </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">, ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ASC</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">                   -- 按成绩降序排列，若相同按学号升序排列</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;                                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 筛选第 11 - 30 名</span></span></code></pre></div><h3 id="多表查询" tabindex="-1">多表查询 <a class="header-anchor" href="#多表查询" aria-label="Permalink to &quot;多表查询&quot;">​</a></h3><h4 id="嵌套查询" tabindex="-1">嵌套查询 <a class="header-anchor" href="#嵌套查询" aria-label="Permalink to &quot;嵌套查询&quot;">​</a></h4><ol><li>FROM 型：子语句返回一个表，且必须给子查询结果取别名。</li><li>WHERE 型：子语句返回一个值，不能用于 UPDATE。</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- FROM 型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> subfrom </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- WHERE 型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tb</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> money</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#97E1F1;"> max</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">money</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> tb);</span></span></code></pre></div><h4 id="合并查询" tabindex="-1">合并查询 <a class="header-anchor" href="#合并查询" aria-label="Permalink to &quot;合并查询&quot;">​</a></h4><ol><li>默认为 DISTINCT 形式，不同表查询到的相同数据只展示一个。</li><li>设置为 ALL 则不同表查询到的相同结果重复展示。</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- DISTINCT 形式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">) </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> UNION</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- ALL 形式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student1) </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> UNION ALL</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student2);</span></span></code></pre></div><h4 id="连表查询" tabindex="-1">连表查询 <a class="header-anchor" href="#连表查询" aria-label="Permalink to &quot;连表查询&quot;">​</a></h4><ul><li><strong>内连接 INNER JOIN</strong>：（默认）未指定连接条件时，自动查找相同字段名匹配连接条件。</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class c</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">cid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student s, class c </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><ul><li><strong>交叉连接 CROSS JOIN</strong>：未指定连接条件时，视为无连接条件。</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> boy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CROSS JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> girl;                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 显示所有交配可能</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> boy, girl;                               </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 等价写法</span></span></code></pre></div><ul><li><p><strong>外连接 OUTER JOIN</strong>：如果数据不存在，也会出现在连接结果中。</p><ul><li><strong>LEFT JOIN</strong>：左表数据一定显示，没有匹配右表数据用 null 填充。</li><li><strong>RIGHT JOIN</strong>：右表数据一定显示，没有匹配左表数据用 null 填充。</li><li><strong>FULL JOIN</strong>：两表数据一定显示，没有匹配数据用 null 填充。</li></ul></li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">                   -- 显示学生的班级信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class c            </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 没有班级的学生也会显示</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">cid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 先筛选再连接（效率等价，但如果有大量重复值提前筛选可以提高效率）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> DINTINCT id, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> class) c       </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">cid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span></code></pre></div><hr><h2 id="高级指令" tabindex="-1">高级指令 <a class="header-anchor" href="#高级指令" aria-label="Permalink to &quot;高级指令&quot;">​</a></h2><h3 id="索引" tabindex="-1">索引 <a class="header-anchor" href="#索引" aria-label="Permalink to &quot;索引&quot;">​</a></h3><ul><li><strong>索引类型</strong></li></ul><table><thead><tr><th>索引名称</th><th>索引类型</th><th>字段类型</th><th>备注</th></tr></thead><tbody><tr><td>PRIMARY KEY</td><td>主索引</td><td>主键</td><td>字段值不能重复，也不能为空。</td></tr><tr><td>INDEX</td><td>普通索引</td><td>自定义字段</td><td>无，效率低。</td></tr><tr><td>UNIQUE</td><td>唯一索引</td><td>自定义字段</td><td>字段值不能重复，效率高。</td></tr><tr><td>FULLTEXT</td><td>文本索引</td><td>自定义字段</td><td>无，用于文本检索。</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查询索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INDEX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [UNIQUE|FULLTEXT] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> idx_student_age </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [USING BTREE]                                           </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 指定索引类型，默认 B+ 树</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student(age);                                        </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 指定索引属性</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [idx_student_age](id,age);   </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> UNIQUE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> [uniq_student_age](age);         </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> FULLTEXE [ft_student_age](age);  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> idx_student_age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> idx_student_age;</span></span></code></pre></div><h3 id="视图" tabindex="-1">视图 <a class="header-anchor" href="#视图" aria-label="Permalink to &quot;视图&quot;">​</a></h3><p><strong>视图算法</strong></p><table><thead><tr><th>算法</th><th>名称</th><th>含义</th></tr></thead><tbody><tr><td>UNDEFINED</td><td>未定义(默认)</td><td>MySQL 自主选择相应的算法。</td></tr><tr><td>MERGE</td><td>合并</td><td>视图的查询语句，与外部查询需要先合并再执行。</td></tr><tr><td>TEMPTABLE</td><td>临时表</td><td>将视图执行完毕后形成临时表，再做外层查询.</td></tr></tbody></table><p><strong>更新选项</strong></p><table><thead><tr><th>算法</th><th>名称</th><th>含义</th></tr></thead><tbody><tr><td>CACADED</td><td>级联(默认)</td><td>满足所有视图条件才能进行数据更新。</td></tr><tr><td>LOCAL</td><td>本地</td><td>满足本视图条件就能进行数据更新。</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建视图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> VIEW view_student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALGORITHM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> MERGE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> VIEW view_student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> WITH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> LOCAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CHECK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> OPTION</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;        </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看结构</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> VIEW view_student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除视图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> VIEW [IF EXISTS] view_student;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 修改视图结构（慎用）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ALTER</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> VIEW view_student</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student);</span></span></code></pre></div><h3 id="事务" tabindex="-1">事务 <a class="header-anchor" href="#事务" aria-label="Permalink to &quot;事务&quot;">​</a></h3><p>开启事务后，所有输入的 SQL 语句将被认作一个不可分割的整体，在提交时统一执行。</p><p>如果在输入过程中出现问题，可以手动进行回滚。在输入过程中可以设置保存点。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 事务开启</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> START TRANSACTION</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> BEGIN</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 事务提交</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> COMMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 事务回滚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ROLLBACK</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 保存点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SAVEPOINT mypoint;                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 设置保存点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ROLLBACK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> TO</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SAVEPOINT mypoint;         </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 回滚到保存点</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> RELEASE SAVEPOINT mypoint;             </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除保存点</span></span></code></pre></div><p>InnoDB 存储引擎支持关闭自动提交，强制开启事务：任何操作都必须要 COMMIT 提交后才能持久化数据，否则对其他客户端不可见。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> SET</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> AUTOCOMMIT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;             </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 0 表示关闭自动提交，1 表示开启自动提交。</span></span></code></pre></div><h3 id="锁定" tabindex="-1">锁定 <a class="header-anchor" href="#锁定" aria-label="Permalink to &quot;锁定&quot;">​</a></h3><p>MySQL 可以手动对表/行锁定，防止其它客户端进行不正当地读取和写入。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 锁定</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> LOCK TABLES student [AS alias];          </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 解锁</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> UNLOCK</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> TABLES;</span></span></code></pre></div><h3 id="触发器" tabindex="-1">触发器 <a class="header-anchor" href="#触发器" aria-label="Permalink to &quot;触发器&quot;">​</a></h3><p>触发程序是与表有关的数据库对象，监听记录的增加、修改、删除。当出现特定事件时，将激活该对象执行 SQL 语句。</p><ol><li><p>MySQL 数据库只支持<strong>行级触发器</strong>：如果一条 INSERT 语句插入 N 行数据，语句级触发器只执行一次，行级触发器要执行 N 次。</p></li><li><p>在触发器中，可以使用 <code>OLD</code> 和 <code>NEW</code> 表示该行的新旧数据。删除操作只有 <code>OLD</code>，增加操作只有 <code>NEW</code> 。</p></li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light dracula-soft vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 查看触发器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> SHOW TRIGGERS;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 创建触发器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> TRIGGER my_trigger </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> BEFORE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INSERT</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">                    -- 触发时间 BEFORE/AFTER 触发条件 INSERT/UPDATE/DELETE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student                       </span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 监听表必须是永久性表</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> FOR</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> EACH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">ROW</span><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">                     -- 行级触发器</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> BEGIN</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> student_logs(id,op,op_time，op_id) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#E7EE98;">insert</span><span style="--shiki-light:#032F62;--shiki-dark:#DEE492;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">(),</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#BF9EEE;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">    -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> END</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7B7F8B;">-- 删除触发器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F286C4;"> DROP</span><span style="--shiki-light:#24292E;--shiki-dark:#F6F6F4;"> TRIGGER [schema_name.]trigger_name;</span></span></code></pre></div>`,108),l=[k];function t(p,e,F,d,r,g){return a(),i("div",null,l)}const C=s(n,[["render",t]]);export{E as __pageData,C as default};
